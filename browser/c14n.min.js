"use strict";(()=>{var Hh=Object.create;var vn=Object.defineProperty;var Wh=Object.getOwnPropertyDescriptor;var Gh=Object.getOwnPropertyNames;var Kh=Object.getPrototypeOf,Qh=Object.prototype.hasOwnProperty;var x=(t,e)=>()=>(t&&(e=t(t=0)),e);var A=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ns=(t,e)=>{for(var r in e)vn(t,r,{get:e[r],enumerable:!0})},ll=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Gh(e))!Qh.call(t,i)&&i!==r&&vn(t,i,{get:()=>e[i],enumerable:!(n=Wh(e,i))||n.enumerable});return t};var ul=(t,e,r)=>(r=t!=null?Hh(Kh(t)):{},ll(e||!t||!t.__esModule?vn(r,"default",{value:t,enumerable:!0}):r,t)),Vh=t=>ll(vn({},"__esModule",{value:!0}),t);var Yt=A(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.default=void 0;var Cr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Br="http://www.w3.org/2001/XMLSchema#",Ts="http://www.w3.org/2000/10/swap/",Yh={xsd:{decimal:`${Br}decimal`,boolean:`${Br}boolean`,double:`${Br}double`,integer:`${Br}integer`,string:`${Br}string`},rdf:{type:`${Cr}type`,nil:`${Cr}nil`,first:`${Cr}first`,rest:`${Cr}rest`,langString:`${Cr}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Ts}reify#forSome`,forAll:`${Ts}reify#forAll`},log:{implies:`${Ts}log#implies`}};Ln.default=Yh});var dl=A((Pw,cl)=>{var fl;cl.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):t=>(fl||(fl=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var Ls=A(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.default=void 0;var zh=pl(Yt()),Jh=pl(dl());function pl(t){return t&&t.__esModule?t:{default:t}}var{xsd:On}=zh.default,Xh=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,hl={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Zh=/[\x00-\x20<>\\"\{\}\|\^\`]/,ep={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},tp=/$0^/,vs=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(let r in this)!(r in ep)&&this[r]instanceof RegExp&&(this[r]=tp)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,r){let n=this._input,i=n.length;for(;;){let a,l;for(;a=this._newline.exec(n);)this._comments&&(l=this._comment.exec(a[0]))&&s("comment",l[1],"",this._line,a[0].length),n=n.substr(a[0].length,n.length),i=n.length,this._line++;if(!a&&(a=this._whitespace.exec(n))&&(n=n.substr(a[0].length,n.length)),this._endOfFile.test(n))return r&&(this._comments&&(l=this._comment.exec(n))&&s("comment",l[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;let u=this._line,c=n[0],f="",d="",h="",p=null,g=0,m=!1;switch(c){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){m=!0;break}}else{this._n3Mode&&(g=1,f="^");break}case"<":if(p=this._unescapedIri.exec(n))f="IRI",d=p[1];else if(p=this._iri.exec(n)){if(d=this._unescape(p[1]),d===null||Zh.test(d))return o(this);f="IRI"}else n.length>1&&n[1]==="<"?(f="<<",g=2):this._n3Mode&&n.length>1&&n[1]==="="&&(f="inverse",g=2,d=">");break;case">":n.length>1&&n[1]===">"&&(f=">>",g=2);break;case"_":((p=this._blank.exec(n))||r&&(p=this._blank.exec(`${n} `)))&&(f="blank",h="_",d=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(n))d=p[1];else if({value:d,matchLength:g}=this._parseLiteral(n),d===null)return o(this);(p!==null||g!==0)&&(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(p=this._simpleApostropheString.exec(n))d=p[1];else if({value:d,matchLength:g}=this._parseLiteral(n),d===null)return o(this);(p!==null||g!==0)&&(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(n))&&(f="var",d=p[0]);break;case"@":this._previousMarker==="literal"&&(p=this._langcode.exec(n))?(f="langcode",d=p[1]):(p=this._keyword.exec(n))&&(f=p[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){f=".",g=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(n)||r&&(p=this._number.exec(`${n} `)))&&(f="literal",d=p[0],h=typeof p[1]=="string"?On.double:typeof p[2]=="string"?On.decimal:On.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(n))?f=p[0].toUpperCase():m=!0;break;case"f":case"t":(p=this._boolean.exec(n))?(f="literal",d=p[0],h=On.boolean):m=!0;break;case"a":(p=this._shortPredicates.exec(n))?(f="abbreviation",d="a"):m=!0;break;case"=":this._n3Mode&&n.length>1&&(f="abbreviation",n[1]!==">"?(g=1,d="="):(g=2,d=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(g=1,f=c);break;default:m=!0}if(m&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(p=this._prefix.exec(n))?(f="prefix",d=p[1]||""):((p=this._prefixed.exec(n))||r&&(p=this._prefixed.exec(`${n} `)))&&(f="prefixed",h=p[1]||"",d=this._unescape(p[2]))),this._previousMarker==="^^")switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;let b=g||p[0].length,y=s(f,d,h,u,b);this.previousToken=y,this._previousMarker=f,n=n.substr(b,n.length)}function s(a,l,u,c,f){let d=n?i-n.length:i,h=d+f,p={type:a,value:l,prefix:u,line:c,start:d,end:h};return e(null,p),p}function o(a){e(a._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let r=!1,n=e.replace(Xh,(i,s,o,a)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return a in hl?hl[a]:(r=!0,"")});return r?null:n}_parseLiteral(e){if(e.length>=3){let r=e.match(/^(?:"""|"|'''|'|)/)[0],n=r.length,i=Math.max(this._literalClosingPos,n);for(;(i=e.indexOf(r,i))>0;){let s=0;for(;e[i-s-1]==="\\";)s++;if(s%2===0){let o=e.substring(n,i),a=o.split(/\r\n|\r|\n/).length-1,l=i+n;if(n===1&&a!==0||n===3&&this._lineMode)break;return this._line+=a,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;let r=new Error(`Unexpected "${e}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,r){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof r=="function")(0,Jh.default)(()=>this._tokenizeToEnd(r,!0));else{let n=[],i;if(this._tokenizeToEnd((s,o)=>s?i=s:n.push(o),!0),i)throw i;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=Buffer.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),e.on("error",r)}};Rn.default=vs});var kn=A(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.inDefaultGraph=lp;Me.isBlankNode=sp;Me.isDefaultGraph=gl;Me.isLiteral=op;Me.isNamedNode=ip;Me.isVariable=ap;Me.prefix=up;Me.prefixes=ml;var rp=np(zt());function np(t){return t&&t.__esModule?t:{default:t}}function ip(t){return!!t&&t.termType==="NamedNode"}function sp(t){return!!t&&t.termType==="BlankNode"}function op(t){return!!t&&t.termType==="Literal"}function ap(t){return!!t&&t.termType==="Variable"}function gl(t){return!!t&&t.termType==="DefaultGraph"}function lp(t){return gl(t.graph)}function up(t,e){return ml({"":t.value||t},e)("")}function ml(t,e){let r=Object.create(null);for(let i in t)n(i,t[i]);e=e||rp.default;function n(i,s){if(typeof s=="string"){let o=Object.create(null);r[i]=a=>o[a]||(o[a]=e.namedNode(s+a))}else if(!(i in r))throw new Error(`Unknown prefix: ${i}`);return r[i]}return n}});var zt=A(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.default=q.Variable=q.Triple=q.Term=q.Quad=q.NamedNode=q.Literal=q.DefaultGraph=q.BlankNode=void 0;q.escapeQuotes=Pn;q.termFromId=Dr;q.termToId=qr;q.unescapeQuotes=$r;var fp=dp(Yt()),cp=kn();function dp(t){return t&&t.__esModule?t:{default:t}}var{rdf:hp,xsd:Tt}=fp.default,jr,pp=0,yl=/^"(.*".*)(?="[^"]*$)/,gp=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,Os={namedNode:_p,blankNode:yp,variable:wp,literal:bp,defaultGraph:Sp,quad:_l,triple:_l},mp=Os;q.default=mp;var Ce=class t{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof t?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}};q.Term=Ce;var Fr=class extends Ce{get termType(){return"NamedNode"}};q.NamedNode=Fr;var vt=class t extends Ce{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){let e=this.id,r=e.lastIndexOf('"')+1;return r<e.length&&e[r++]==="@"?e.substr(r).toLowerCase():""}get datatype(){return new Fr(this.datatypeString)}get datatypeString(){let e=this.id,r=e.lastIndexOf('"')+1,n=r<e.length?e[r]:"";return n==="^"?e.substr(r+2):n!=="@"?Tt.string:hp.langString}equals(e){return e instanceof t?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}};q.Literal=vt;var Mn=class extends Ce{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}};q.BlankNode=Mn;var Cn=class extends Ce{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}};q.Variable=Cn;var Bn=class extends Ce{constructor(){return super(""),jr||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};q.DefaultGraph=Bn;jr=new Bn;function Dr(t,e){if(e=e||Os,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===Os)return new vt(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));let r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"<":let n=gp.exec(t);return e.quad(Dr($r(n[1]),e),Dr($r(n[2]),e),Dr($r(n[3]),e),n[4]&&Dr($r(n[4]),e));default:return e.namedNode(t)}}function qr(t){if(typeof t=="string")return t;if(t instanceof Ce&&t.termType!=="Quad")return t.id;if(!t)return jr.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Tt.string?`^^${t.datatype.value}`:""}`;case"Quad":return`<<${Pn(qr(t.subject))} ${Pn(qr(t.predicate))} ${Pn(qr(t.object))}${(0,cp.isDefaultGraph)(t.graph)?"":` ${qr(t.graph)}`}>>`;default:throw new Error(`Unexpected termType: ${t.termType}`)}}var Dn=class extends Ce{constructor(e,r,n,i){super(""),this._subject=e,this._predicate=r,this._object=n,this._graph=i||jr}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};q.Triple=q.Quad=Dn;function Pn(t){return t.replace(yl,(e,r)=>`"${r.replace(/"/g,'""')}`)}function $r(t){return t.replace(yl,(e,r)=>`"${r.replace(/""/g,'"')}`)}function _p(t){return new Fr(t)}function yp(t){return new Mn(t||`n3-${pp++}`)}function bp(t,e){if(typeof e=="string")return new vt(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return r===""&&(typeof t=="boolean"?r=Tt.boolean:typeof t=="number"&&(Number.isFinite(t)?r=Number.isInteger(t)?Tt.integer:Tt.double:(r=Tt.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),r===""||r===Tt.string?new vt(`"${t}"`):new vt(`"${t}"^^${r}`)}function wp(t){return new Cn(t)}function Sp(){return jr}function _l(t,e,r,n){return new Dn(t,e,r,n)}});var Ps=A($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.default=void 0;var Ep=ks(Ls()),xp=ks(zt()),at=ks(Yt());function ks(t){return t&&t.__esModule?t:{default:t}}var bl=0,qn=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&wl(this,e.factory);let r=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),i=/trig/.test(r),s=/triple/.test(r),o=/quad/.test(r),a=this._n3Mode=/n3/.test(r),l=s||o;(this._supportsNamedGraphs=!(n||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||s||a),this._supportsRDFStar=r===""||/star|\*$/.test(r),l&&(this._resolveRelativeIRI=u=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new Ep.default({lineMode:l,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){bl=0}_setBase(e){if(!e)this._base="",this._basePath="";else{let r=e.indexOf("#");r>=0&&(e=e.substr(0,r)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,r,n,i,s){let o=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:i,object:s,graph:r,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.id.substr(2)}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,r){let n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,r){let n;switch(e.type){case"IRI":case"typeIRI":let i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);n=this._namedNode(i);break;case"type":case"prefixed":let s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(s+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){let r=e.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,e):(this._subject=null,r==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);let r=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let r=null,n=null,i=this._readListItem,s=this._subject,o=this._contextStack,a=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(r=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((r=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?a.predicate===null?a.subject=n:a.object=n:this._emit(s,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let r=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":let n=this._readEntity(e);if(n===void 0)return;r=this._literal(this._literalValue,n),e=null;break;case"langcode":r=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:r}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,r){let n=this._completeLiteral(e);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let r,n=this._graph,i=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){let o=this._predicate,a=this._object;s?this._emit(a,o,i,n):this._emit(i,o,a,n)}return r}_readBlankNodePunctuation(e){let r;switch(e.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);let r=this._readEntity(e);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(e){let r=e.type==="IRI"&&this._resolveIRI(e.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let r;switch(e.type){case"IRI":case"prefixed":if((r=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:let r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){let i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let r,n,i=this._blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=i):(r=this._object,this._object=i),this._emit(r,n,i,this._graph),this._readPath}_readBackwardPath(e){let r=this._blankNode(),n,i;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=r):(i=this._object,this._object=r),this._emit(r,n,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);let r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){let e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,r,n,i){this._callback(null,this._quad(e,r,n,i||this.DEFAULTGRAPH))}_error(e,r){let n=new Error(`${e} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=Rs}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;let r=e.length,n="",i=-1,s=-1,o=0,a="/";for(;i<r;){switch(a){case":":if(s<0&&e[++i]==="/"&&e[++i]==="/")for(;(s=i+1)<r&&e[s]!=="/";)i=s;break;case"?":case"#":i=r;break;case"/":if(e[i+1]===".")switch(a=e[++i+1],a){case"/":n+=e.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return n+e.substring(o,i)+e.substr(i+1);case".":if(a=e[++i+1],a===void 0||a==="/"||a==="?"||a==="#"){if(n+=e.substring(o,i-2),(o=n.lastIndexOf("/"))>=s&&(n=n.substr(0,o)),a!=="/")return`${n}/${e.substr(i+1)}`;o=i+1}}}a=e[++i]}return n+e.substring(o)}parse(e,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${bl++}_`,this._prefixCallback=n||Rs,this._inversePredicate=!1,this._quantified=Object.create(null),!r){let i=[],s;if(this._callback=(o,a)=>{o?s=o:a&&i.push(a)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return i}this._callback=r,this._lexer.tokenize(e,(i,s)=>{i!==null?(this._callback(i),this._callback=Rs):this._readCallback&&(this._readCallback=this._readCallback(s))})}};$n.default=qn;function Rs(){}function wl(t,e){let r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(at.default.rdf.first),t.RDF_REST=r(at.default.rdf.rest),t.RDF_NIL=r(at.default.rdf.nil),t.N3_FORALL=r(at.default.r.forAll),t.N3_FORSOME=r(at.default.r.forSome),t.ABBREVIATIONS={a:r(at.default.rdf.type),"=":r(at.default.owl.sameAs),">":r(at.default.log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}wl(qn.prototype,xp.default)});var Cs=A(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.default=void 0;var Ip=Tp(Yt()),Al=Np(zt()),Ap=kn();function Nl(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Nl=function(n){return n?r:e})(t)}function Np(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=Nl(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function Tp(t){return t&&t.__esModule?t:{default:t}}var Ur=Al.default.defaultGraph(),{rdf:vp,xsd:Jt}=Ip.default,Sl=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,El=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Lp={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},Lt=class extends Al.Term{equals(){return!1}},Ms=class{constructor(e,r){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(r=e,e=null),r=r||{},this._lists=r.lists,e)this._outputStream=e,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(i,s,o){n+=i,o&&o()},end:i=>{i&&i(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Ur,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${Il(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return Ur.equals(this._graph)}_write(e,r){this._outputStream.write(e,"utf8",r)}_writeQuad(e,r,n,i,s){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Ur.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s)}catch(o){s&&s(o)}}_writeQuadLine(e,r,n,i,s){delete this._prefixMatch,this._write(this.quadToString(e,r,n,i),s)}quadToString(e,r,n,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){return e.map(r=>this.quadToString(r.subject,r.predicate,r.object,r.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let r=e.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),Sl.test(r)&&(r=r.replace(El,xl));let n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(e){let r=e.value;if(Sl.test(r)&&(r=r.replace(El,xl)),e.language)return`"${r}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Jt.string)return`"${r}"`}else switch(e.datatype.value){case Jt.string:return`"${r}"`;case Jt.boolean:if(r==="true"||r==="false")return r;break;case Jt.integer:if(/^[+-]?\d+$/.test(r))return r;break;case Jt.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case Jt.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===vp.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:r,object:n,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${(0,Ap.isDefaultGraph)(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,r,n,i,s){n===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,r):typeof i=="function"?this._writeQuad(e,r,n,Ur,i):this._writeQuad(e,r,n,i||Ur,s)}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}addPrefix(e,r,n){let i={};i[e]=r,this.addPrefixes(i,n)}addPrefixes(e,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let i in e){let s=e[i];typeof s!="string"&&(s=s.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=i+=":",this._write(`@prefix ${i} <${s}>.
`)}if(n){let i="",s="";for(let o in this._prefixIRIs)i+=i?`|${o}`:o,s+=(s?"|":"")+this._prefixIRIs[o];i=Il(i,/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(e,r){let n=e,i,s;switch(e===void 0?n=[]:e.termType?n=[{predicate:e,object:r}]:"length"in e||(n=[e]),s=n.length){case 0:return new Lt("[]");case 1:if(i=n[0],!(i.object instanceof Lt))return new Lt(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let a=0;a<s;a++)i=n[a],i.predicate.equals(e)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(a?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new Lt(`${o}
]`)}}list(e){let r=e&&e.length||0,n=new Array(r);for(let i=0;i<r;i++)n[i]=this._encodeObject(e[i]);return new Lt(`(${n.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=e&&((n,i)=>{r=null,e(n,i)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}};Fn.default=Ms;function xl(t){let e=Lp[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function Il(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}});var Ll=A(jn=>{"use strict";jn.byteLength=Rp;jn.toByteArray=Pp;jn.fromByteArray=Bp;var Be=[],_e=[],Op=typeof Uint8Array<"u"?Uint8Array:Array,Bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Ot=0,Tl=Bs.length;Ot<Tl;++Ot)Be[Ot]=Bs[Ot],_e[Bs.charCodeAt(Ot)]=Ot;var Ot,Tl;_e["-".charCodeAt(0)]=62;_e["_".charCodeAt(0)]=63;function vl(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Rp(t){var e=vl(t),r=e[0],n=e[1];return(r+n)*3/4-n}function kp(t,e,r){return(e+r)*3/4-r}function Pp(t){var e,r=vl(t),n=r[0],i=r[1],s=new Op(kp(t,n,i)),o=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)e=_e[t.charCodeAt(l)]<<18|_e[t.charCodeAt(l+1)]<<12|_e[t.charCodeAt(l+2)]<<6|_e[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=_e[t.charCodeAt(l)]<<2|_e[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=_e[t.charCodeAt(l)]<<10|_e[t.charCodeAt(l+1)]<<4|_e[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Mp(t){return Be[t>>18&63]+Be[t>>12&63]+Be[t>>6&63]+Be[t&63]}function Cp(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Mp(n));return i.join("")}function Bp(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(Cp(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Be[e>>2]+Be[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Be[e>>10]+Be[e>>4&63]+Be[e<<2&63]+"=")),i.join("")}});var Ol=A(Ds=>{Ds.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,u=l>>1,c=-7,f=r?i-1:0,d=r?-1:1,h=t[e+f];for(f+=d,s=h&(1<<-c)-1,h>>=-c,c+=a;c>0;s=s*256+t[e+f],f+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=o*256+t[e+f],f+=d,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(h?-1:1)*o*Math.pow(2,s-n)};Ds.write=function(t,e,r,n,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,f=c>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:s-1,p=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=d/l:e+=d*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=c?(a=0,o=c):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+h]=a&255,h+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+h]=o&255,h+=p,o/=256,u-=8);t[r+h-p]|=g*128}});var ze=A(tr=>{"use strict";var qs=Ll(),Zt=Ol(),Rl=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;tr.Buffer=_;tr.SlowBuffer=Up;tr.INSPECT_MAX_BYTES=50;var Un=2147483647;tr.kMaxLength=Un;_.TYPED_ARRAY_SUPPORT=Dp();!_.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Dp(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}});Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}});function Ye(t){if(t>Un)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,_.prototype),e}function _(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Us(t)}return Cl(t,e,r)}_.poolSize=8192;function Cl(t,e,r){if(typeof t=="string")return $p(t,e);if(ArrayBuffer.isView(t))return Fp(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(De(t,ArrayBuffer)||t&&De(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(De(t,SharedArrayBuffer)||t&&De(t.buffer,SharedArrayBuffer)))return Fs(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return _.from(n,e,r);let i=jp(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return _.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}_.from=function(t,e,r){return Cl(t,e,r)};Object.setPrototypeOf(_.prototype,Uint8Array.prototype);Object.setPrototypeOf(_,Uint8Array);function Bl(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function qp(t,e,r){return Bl(t),t<=0?Ye(t):e!==void 0?typeof r=="string"?Ye(t).fill(e,r):Ye(t).fill(e):Ye(t)}_.alloc=function(t,e,r){return qp(t,e,r)};function Us(t){return Bl(t),Ye(t<0?0:Hs(t)|0)}_.allocUnsafe=function(t){return Us(t)};_.allocUnsafeSlow=function(t){return Us(t)};function $p(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!_.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Dl(t,e)|0,n=Ye(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function $s(t){let e=t.length<0?0:Hs(t.length)|0,r=Ye(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Fp(t){if(De(t,Uint8Array)){let e=new Uint8Array(t);return Fs(e.buffer,e.byteOffset,e.byteLength)}return $s(t)}function Fs(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,_.prototype),n}function jp(t){if(_.isBuffer(t)){let e=Hs(t.length)|0,r=Ye(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Gs(t.length)?Ye(0):$s(t);if(t.type==="Buffer"&&Array.isArray(t.data))return $s(t.data)}function Hs(t){if(t>=Un)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Un.toString(16)+" bytes");return t|0}function Up(t){return+t!=t&&(t=0),_.alloc(+t)}_.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==_.prototype};_.compare=function(e,r){if(De(e,Uint8Array)&&(e=_.from(e,e.offset,e.byteLength)),De(r,Uint8Array)&&(r=_.from(r,r.offset,r.byteLength)),!_.isBuffer(e)||!_.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};_.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};_.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return _.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=_.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){let o=e[n];if(De(o,Uint8Array))s+o.length>i.length?(_.isBuffer(o)||(o=_.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(_.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function Dl(t,e){if(_.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||De(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return js(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Kl(t).length;default:if(i)return n?-1:js(t).length;e=(""+e).toLowerCase(),i=!0}}_.byteLength=Dl;function Hp(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Zp(this,e,r);case"utf8":case"utf-8":return $l(this,e,r);case"ascii":return Jp(this,e,r);case"latin1":case"binary":return Xp(this,e,r);case"base64":return Yp(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eg(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}_.prototype._isBuffer=!0;function Rt(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}_.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Rt(this,r,r+1);return this};_.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Rt(this,r,r+3),Rt(this,r+1,r+2);return this};_.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Rt(this,r,r+7),Rt(this,r+1,r+6),Rt(this,r+2,r+5),Rt(this,r+3,r+4);return this};_.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?$l(this,0,e):Hp.apply(this,arguments)};_.prototype.toLocaleString=_.prototype.toString;_.prototype.equals=function(e){if(!_.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:_.compare(this,e)===0};_.prototype.inspect=function(){let e="",r=tr.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Rl&&(_.prototype[Rl]=_.prototype.inspect);_.prototype.compare=function(e,r,n,i,s){if(De(e,Uint8Array)&&(e=_.from(e,e.offset,e.byteLength)),!_.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,a=n-r,l=Math.min(o,a),u=this.slice(i,s),c=e.slice(r,n);for(let f=0;f<l;++f)if(u[f]!==c[f]){o=u[f],a=c[f];break}return o<a?-1:a<o?1:0};function ql(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Gs(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=_.from(e,n)),_.isBuffer(e))return e.length===0?-1:kl(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):kl(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function kl(t,e,r,n,i){let s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function l(c,f){return s===1?c[f]:c.readUInt16BE(f*s)}let u;if(i){let c=-1;for(u=r;u<o;u++)if(l(t,u)===l(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===a)return c*s}else c!==-1&&(u-=u-c),c=-1}else for(r+a>o&&(r=o-a),u=r;u>=0;u--){let c=!0;for(let f=0;f<a;f++)if(l(t,u+f)!==l(e,f)){c=!1;break}if(c)return u}return-1}_.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};_.prototype.indexOf=function(e,r,n){return ql(this,e,r,n,!0)};_.prototype.lastIndexOf=function(e,r,n){return ql(this,e,r,n,!1)};function Wp(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let a=parseInt(e.substr(o*2,2),16);if(Gs(a))return o;t[r+o]=a}return o}function Gp(t,e,r,n){return Hn(js(e,t.length-r),t,r,n)}function Kp(t,e,r,n){return Hn(ig(e),t,r,n)}function Qp(t,e,r,n){return Hn(Kl(e),t,r,n)}function Vp(t,e,r,n){return Hn(sg(e,t.length-r),t,r,n)}_.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return Wp(this,e,r,n);case"utf8":case"utf-8":return Gp(this,e,r,n);case"ascii":case"latin1":case"binary":return Kp(this,e,r,n);case"base64":return Qp(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Vp(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Yp(t,e,r){return e===0&&r===t.length?qs.fromByteArray(t):qs.fromByteArray(t.slice(e,r))}function $l(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){let l,u,c,f;switch(a){case 1:s<128&&(o=s);break;case 2:l=t[i+1],(l&192)===128&&(f=(s&31)<<6|l&63,f>127&&(o=f));break;case 3:l=t[i+1],u=t[i+2],(l&192)===128&&(u&192)===128&&(f=(s&15)<<12|(l&63)<<6|u&63,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:l=t[i+1],u=t[i+2],c=t[i+3],(l&192)===128&&(u&192)===128&&(c&192)===128&&(f=(s&15)<<18|(l&63)<<12|(u&63)<<6|c&63,f>65535&&f<1114112&&(o=f))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return zp(n)}var Pl=4096;function zp(t){let e=t.length;if(e<=Pl)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Pl));return r}function Jp(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Xp(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Zp(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=og[t[s]];return i}function eg(t,e,r){let n=t.slice(e,r),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}_.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,_.prototype),i};function ee(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}_.prototype.readUintLE=_.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||ee(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return i};_.prototype.readUintBE=_.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||ee(e,r,this.length);let i=this[e+--r],s=1;for(;r>0&&(s*=256);)i+=this[e+--r]*s;return i};_.prototype.readUint8=_.prototype.readUInt8=function(e,r){return e=e>>>0,r||ee(e,1,this.length),this[e]};_.prototype.readUint16LE=_.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||ee(e,2,this.length),this[e]|this[e+1]<<8};_.prototype.readUint16BE=_.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||ee(e,2,this.length),this[e]<<8|this[e+1]};_.prototype.readUint32LE=_.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||ee(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};_.prototype.readUint32BE=_.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||ee(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};_.prototype.readBigUInt64LE=lt(function(e){e=e>>>0,er(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Hr(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});_.prototype.readBigUInt64BE=lt(function(e){e=e>>>0,er(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Hr(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});_.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||ee(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};_.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||ee(e,r,this.length);let i=r,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};_.prototype.readInt8=function(e,r){return e=e>>>0,r||ee(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};_.prototype.readInt16LE=function(e,r){e=e>>>0,r||ee(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};_.prototype.readInt16BE=function(e,r){e=e>>>0,r||ee(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};_.prototype.readInt32LE=function(e,r){return e=e>>>0,r||ee(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};_.prototype.readInt32BE=function(e,r){return e=e>>>0,r||ee(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};_.prototype.readBigInt64LE=lt(function(e){e=e>>>0,er(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Hr(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});_.prototype.readBigInt64BE=lt(function(e){e=e>>>0,er(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Hr(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});_.prototype.readFloatLE=function(e,r){return e=e>>>0,r||ee(e,4,this.length),Zt.read(this,e,!0,23,4)};_.prototype.readFloatBE=function(e,r){return e=e>>>0,r||ee(e,4,this.length),Zt.read(this,e,!1,23,4)};_.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||ee(e,8,this.length),Zt.read(this,e,!0,52,8)};_.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||ee(e,8,this.length),Zt.read(this,e,!1,52,8)};function ae(t,e,r,n,i,s){if(!_.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}_.prototype.writeUintLE=_.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;ae(this,e,r,n,a,0)}let s=1,o=0;for(this[r]=e&255;++o<n&&(s*=256);)this[r+o]=e/s&255;return r+n};_.prototype.writeUintBE=_.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;ae(this,e,r,n,a,0)}let s=n-1,o=1;for(this[r+s]=e&255;--s>=0&&(o*=256);)this[r+s]=e/o&255;return r+n};_.prototype.writeUint8=_.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,1,255,0),this[r]=e&255,r+1};_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Fl(t,e,r,n,i){Gl(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,r}function jl(t,e,r,n,i){Gl(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o=o>>8,t[r+2]=o,o=o>>8,t[r+1]=o,o=o>>8,t[r]=o,r+8}_.prototype.writeBigUInt64LE=lt(function(e,r=0){return Fl(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});_.prototype.writeBigUInt64BE=lt(function(e,r=0){return jl(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});_.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let l=Math.pow(2,8*n-1);ae(this,e,r,n,l-1,-l)}let s=0,o=1,a=0;for(this[r]=e&255;++s<n&&(o*=256);)e<0&&a===0&&this[r+s-1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};_.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let l=Math.pow(2,8*n-1);ae(this,e,r,n,l-1,-l)}let s=n-1,o=1,a=0;for(this[r+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[r+s+1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};_.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};_.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};_.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};_.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};_.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};_.prototype.writeBigInt64LE=lt(function(e,r=0){return Fl(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});_.prototype.writeBigInt64BE=lt(function(e,r=0){return jl(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ul(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Hl(t,e,r,n,i){return e=+e,r=r>>>0,i||Ul(t,e,r,4,34028234663852886e22,-34028234663852886e22),Zt.write(t,e,r,n,23,4),r+4}_.prototype.writeFloatLE=function(e,r,n){return Hl(this,e,r,!0,n)};_.prototype.writeFloatBE=function(e,r,n){return Hl(this,e,r,!1,n)};function Wl(t,e,r,n,i){return e=+e,r=r>>>0,i||Ul(t,e,r,8,17976931348623157e292,-17976931348623157e292),Zt.write(t,e,r,n,52,8),r+8}_.prototype.writeDoubleLE=function(e,r,n){return Wl(this,e,r,!0,n)};_.prototype.writeDoubleBE=function(e,r,n){return Wl(this,e,r,!1,n)};_.prototype.copy=function(e,r,n,i){if(!_.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};_.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!_.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{let o=_.isBuffer(e)?e:_.from(e,i),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=o[s%a]}return this};var Xt={};function Ws(t,e,r){Xt[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Ws("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Ws("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Ws("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Ml(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Ml(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Ml(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function tg(t,e,r){er(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Hr(e,t.length-(r+1))}function Gl(t,e,r,n,i,s){if(t>r||t<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${r}${o}`,new Xt.ERR_OUT_OF_RANGE("value",a,t)}tg(n,i,s)}function er(t,e){if(typeof t!="number")throw new Xt.ERR_INVALID_ARG_TYPE(e,"number",t)}function Hr(t,e,r){throw Math.floor(t)!==t?(er(t,r),new Xt.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Xt.ERR_BUFFER_OUT_OF_BOUNDS:new Xt.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var rg=/[^+/0-9A-Za-z-_]/g;function ng(t){if(t=t.split("=")[0],t=t.trim().replace(rg,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function js(t,e){e=e||1/0;let r,n=t.length,i=null,s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function ig(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function sg(t,e){let r,n,i,s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function Kl(t){return qs.toByteArray(ng(t))}function Hn(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function De(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Gs(t){return t!==t}var og=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function lt(t){return typeof BigInt>"u"?ag:t}function ag(){throw new Error("BigInt not supported")}});var V=A((Hw,Ql)=>{"use strict";Ql.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array}});var qe=A((Ww,Qs)=>{"use strict";var lg=ze(),ug=Object.getPrototypeOf(async function(){}).constructor,Vl=globalThis.Blob||lg.Blob,fg=typeof Vl<"u"?function(e){return e instanceof Vl}:function(e){return!1},Ks=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};Qs.exports={AggregateError:Ks,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof ug},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:fg};Qs.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Gn=A((Gw,Wn)=>{"use strict";var{AbortController:Yl,AbortSignal:cg}=typeof self<"u"?self:typeof window<"u"?window:void 0;Wn.exports=Yl;Wn.exports.AbortSignal=cg;Wn.exports.default=Yl});var se=A((Kw,Xl)=>{"use strict";var{format:dg,inspect:Kn,AggregateError:hg}=qe(),pg=globalThis.AggregateError||hg,gg=Symbol("kIsNodeError"),mg=["string","function","number","object","Function","Object","boolean","bigint","symbol"],_g=/^([A-Z][a-z0-9]*)+$/,yg="__node_internal_",Qn={};function kt(t,e){if(!t)throw new Qn.ERR_INTERNAL_ASSERTION(e)}function zl(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function bg(t,e,r){if(typeof e=="function")return kt(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return kt(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:dg(e,...r)}function re(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(bg(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[gg]=!0,Qn[t]=n}function Jl(t){let e=yg+t.name;return Object.defineProperty(t,"name",{value:e}),t}function wg(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new pg([e,t],e.message);return r.code=e.code,r}return t||e}var Vs=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Qn.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};re("ERR_ASSERTION","%s",Error);re("ERR_INVALID_ARG_TYPE",(t,e,r)=>{kt(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)kt(typeof l=="string","All expected entries have to be of type string"),mg.includes(l)?i.push(l.toLowerCase()):_g.test(l)?s.push(l):(kt(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Kn(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Kn(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);re("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Kn(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);re("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);re("ERR_MISSING_ARGS",(...t)=>{kt(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);re("ERR_OUT_OF_RANGE",(t,e,r)=>{kt(e,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=zl(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=zl(n)),n+="n"):n=Kn(r),`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);re("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);re("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);re("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);re("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);re("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);re("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);re("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);re("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);re("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);re("ERR_STREAM_WRITE_AFTER_END","write after end",Error);re("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);Xl.exports={AbortError:Vs,aggregateTwoErrors:Jl(wg),hideStackFrames:Jl,codes:Qn}});var Wr=A((Qw,ou)=>{"use strict";var{ArrayIsArray:tu,ArrayPrototypeIncludes:ru,ArrayPrototypeJoin:nu,ArrayPrototypeMap:Sg,NumberIsInteger:zs,NumberIsNaN:Eg,NumberMAX_SAFE_INTEGER:xg,NumberMIN_SAFE_INTEGER:Ig,NumberParseInt:Ag,ObjectPrototypeHasOwnProperty:Ng,RegExpPrototypeExec:Tg,String:vg,StringPrototypeToUpperCase:Lg,StringPrototypeTrim:Og}=V(),{hideStackFrames:xe,codes:{ERR_SOCKET_BAD_PORT:Rg,ERR_INVALID_ARG_TYPE:le,ERR_INVALID_ARG_VALUE:Vn,ERR_OUT_OF_RANGE:Pt,ERR_UNKNOWN_SIGNAL:Zl}}=se(),{normalizeEncoding:kg}=qe(),{isAsyncFunction:Pg,isArrayBufferView:Mg}=qe().types,eu={};function Cg(t){return t===(t|0)}function Bg(t){return t===t>>>0}var Dg=/^[0-7]+$/,qg="must be a 32-bit unsigned integer or an octal string";function $g(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(Tg(Dg,t)===null)throw new Vn(e,t,qg);t=Ag(t,8)}return iu(t,e),t}var Fg=xe((t,e,r=Ig,n=xg)=>{if(typeof t!="number")throw new le(e,"number",t);if(!zs(t))throw new Pt(e,"an integer",t);if(t<r||t>n)throw new Pt(e,`>= ${r} && <= ${n}`,t)}),jg=xe((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new le(e,"number",t);if(!zs(t))throw new Pt(e,"an integer",t);if(t<r||t>n)throw new Pt(e,`>= ${r} && <= ${n}`,t)}),iu=xe((t,e,r=!1)=>{if(typeof t!="number")throw new le(e,"number",t);if(!zs(t))throw new Pt(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Pt(e,`>= ${n} && <= ${i}`,t)});function su(t,e){if(typeof t!="string")throw new le(e,"string",t)}function Ug(t,e,r=void 0,n){if(typeof t!="number")throw new le(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Eg(t))throw new Pt(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var Hg=xe((t,e,r)=>{if(!ru(r,t)){let i="must be one of: "+nu(Sg(r,s=>typeof s=="string"?`'${s}'`:vg(s)),", ");throw new Vn(e,t,i)}});function Wg(t,e){if(typeof t!="boolean")throw new le(e,"boolean",t)}function Ys(t,e,r){return t==null||!Ng(t,e)?r:t[e]}var Gg=xe((t,e,r=null)=>{let n=Ys(r,"allowArray",!1),i=Ys(r,"allowFunction",!1);if(!Ys(r,"nullable",!1)&&t===null||!n&&tu(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new le(e,"Object",t)}),Kg=xe((t,e,r=0)=>{if(!tu(t))throw new le(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Vn(e,t,n)}});function Qg(t,e="signal"){if(su(t,e),eu[t]===void 0)throw eu[Lg(t)]!==void 0?new Zl(t+" (signals must use all capital letters)"):new Zl(t)}var Vg=xe((t,e="buffer")=>{if(!Mg(t))throw new le(e,["Buffer","TypedArray","DataView"],t)});function Yg(t,e){let r=kg(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Vn("encoding",e,`is invalid for data of length ${n}`)}function zg(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Og(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Rg(e,t,r);return t|0}var Jg=xe((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new le(e,"AbortSignal",t)}),Xg=xe((t,e)=>{if(typeof t!="function")throw new le(e,"Function",t)}),Zg=xe((t,e)=>{if(typeof t!="function"||Pg(t))throw new le(e,"Function",t)}),em=xe((t,e)=>{if(t!==void 0)throw new le(e,"undefined",t)});function tm(t,e,r){if(!ru(r,t))throw new le(e,`('${nu(r,"|")}')`,t)}ou.exports={isInt32:Cg,isUint32:Bg,parseFileMode:$g,validateArray:Kg,validateBoolean:Wg,validateBuffer:Vg,validateEncoding:Yg,validateFunction:Xg,validateInt32:jg,validateInteger:Fg,validateNumber:Ug,validateObject:Gg,validateOneOf:Hg,validatePlainFunction:Zg,validatePort:zg,validateSignalName:Qg,validateString:su,validateUint32:iu,validateUndefined:em,validateUnion:tm,validateAbortSignal:Jg}});var ut=A((Vw,fu)=>{var W=fu.exports={},$e,Fe;function Js(){throw new Error("setTimeout has not been defined")}function Xs(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?$e=setTimeout:$e=Js}catch{$e=Js}try{typeof clearTimeout=="function"?Fe=clearTimeout:Fe=Xs}catch{Fe=Xs}})();function au(t){if($e===setTimeout)return setTimeout(t,0);if(($e===Js||!$e)&&setTimeout)return $e=setTimeout,setTimeout(t,0);try{return $e(t,0)}catch{try{return $e.call(null,t,0)}catch{return $e.call(this,t,0)}}}function rm(t){if(Fe===clearTimeout)return clearTimeout(t);if((Fe===Xs||!Fe)&&clearTimeout)return Fe=clearTimeout,clearTimeout(t);try{return Fe(t)}catch{try{return Fe.call(null,t)}catch{return Fe.call(this,t)}}}var Je=[],rr=!1,Mt,Yn=-1;function nm(){!rr||!Mt||(rr=!1,Mt.length?Je=Mt.concat(Je):Yn=-1,Je.length&&lu())}function lu(){if(!rr){var t=au(nm);rr=!0;for(var e=Je.length;e;){for(Mt=Je,Je=[];++Yn<e;)Mt&&Mt[Yn].run();Yn=-1,e=Je.length}Mt=null,rr=!1,rm(t)}}W.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Je.push(new uu(t,e)),Je.length===1&&!rr&&au(lu)};function uu(t,e){this.fun=t,this.array=e}uu.prototype.run=function(){this.fun.apply(null,this.array)};W.title="browser";W.browser=!0;W.env={};W.argv=[];W.version="";W.versions={};function Xe(){}W.on=Xe;W.addListener=Xe;W.once=Xe;W.off=Xe;W.removeListener=Xe;W.removeAllListeners=Xe;W.emit=Xe;W.prependListener=Xe;W.prependOnceListener=Xe;W.listeners=function(t){return[]};W.binding=function(t){throw new Error("process.binding is not supported")};W.cwd=function(){return"/"};W.chdir=function(t){throw new Error("process.chdir is not supported")};W.umask=function(){return 0}});var ft=A((Yw,Eu)=>{"use strict";var{Symbol:zn,SymbolAsyncIterator:cu,SymbolIterator:du}=V(),hu=zn("kDestroyed"),pu=zn("kIsErrored"),Zs=zn("kIsReadable"),gu=zn("kIsDisturbed");function Jn(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Xn(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function im(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Ct(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function sm(t,e){return t==null?!1:e===!0?typeof t[cu]=="function":e===!1?typeof t[du]=="function":typeof t[cu]=="function"||typeof t[du]=="function"}function Zn(t){if(!Ct(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[hu]||n!=null&&n.destroyed)}function mu(t){if(!Xn(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function om(t,e){if(!Xn(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function am(t){if(!Jn(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function _u(t,e){if(!Jn(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function yu(t){return t&&t[Zs]!=null?t[Zs]:typeof t?.readable!="boolean"?null:Zn(t)?!1:Jn(t)&&t.readable&&!_u(t)}function bu(t){return typeof t?.writable!="boolean"?null:Zn(t)?!1:Xn(t)&&t.writable&&!mu(t)}function lm(t,e){return Ct(t)?Zn(t)?!0:!(e?.readable!==!1&&yu(t)||e?.writable!==!1&&bu(t)):null}function um(t){var e,r;return Ct(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function fm(t){var e,r;return Ct(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function cm(t){if(!Ct(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&wu(t)?t._closed:null}function wu(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function Su(t){return typeof t._sent100=="boolean"&&wu(t)}function dm(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function hm(t){if(!Ct(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&Su(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function pm(t){var e;return!!(t&&((e=t[gu])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function gm(t){var e,r,n,i,s,o,a,l,u,c;return!!(t&&((e=(r=(n=(i=(s=(o=t[pu])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(u=t._readableState)===null||u===void 0?void 0:u.errored)!==null&&e!==void 0?e:!((c=t._writableState)===null||c===void 0)&&c.errored))}Eu.exports={kDestroyed:hu,isDisturbed:pm,kIsDisturbed:gu,isErrored:gm,kIsErrored:pu,isReadable:yu,kIsReadable:Zs,isClosed:cm,isDestroyed:Zn,isDuplexNodeStream:im,isFinished:lm,isIterable:sm,isReadableNodeStream:Jn,isReadableEnded:am,isReadableFinished:_u,isReadableErrored:fm,isNodeStream:Ct,isWritable:bu,isWritableNodeStream:Xn,isWritableEnded:mu,isWritableFinished:om,isWritableErrored:um,isServerRequest:dm,isServerResponse:Su,willEmitClose:hm}});var ct=A((zw,to)=>{var nr=ut(),{AbortError:mm,codes:_m}=se(),{ERR_INVALID_ARG_TYPE:ym,ERR_STREAM_PREMATURE_CLOSE:xu}=_m,{kEmptyObject:Iu,once:Au}=qe(),{validateAbortSignal:bm,validateFunction:wm,validateObject:Sm}=Wr(),{Promise:Em}=V(),{isClosed:xm,isReadable:Nu,isReadableNodeStream:eo,isReadableFinished:Tu,isReadableErrored:Im,isWritable:vu,isWritableNodeStream:Lu,isWritableFinished:Ou,isWritableErrored:Am,isNodeStream:Nm,willEmitClose:Tm}=ft();function vm(t){return t.setHeader&&typeof t.abort=="function"}var Lm=()=>{};function Ru(t,e,r){var n,i;arguments.length===2?(r=e,e=Iu):e==null?e=Iu:Sm(e,"options"),wm(r,"callback"),bm(e.signal,"options.signal"),r=Au(r);let s=(n=e.readable)!==null&&n!==void 0?n:eo(t),o=(i=e.writable)!==null&&i!==void 0?i:Lu(t);if(!Nm(t))throw new ym("stream","Stream",t);let a=t._writableState,l=t._readableState,u=()=>{t.writable||d()},c=Tm(t)&&eo(t)===s&&Lu(t)===o,f=Ou(t,!1),d=()=>{f=!0,t.destroyed&&(c=!1),!(c&&(!t.readable||s))&&(!s||h)&&r.call(t)},h=Tu(t,!1),p=()=>{h=!0,t.destroyed&&(c=!1),!(c&&(!t.writable||o))&&(!o||f)&&r.call(t)},g=E=>{r.call(t,E)},m=xm(t),b=()=>{m=!0;let E=Am(t)||Im(t);if(E&&typeof E!="boolean")return r.call(t,E);if(s&&!h&&eo(t,!0)&&!Tu(t,!1))return r.call(t,new xu);if(o&&!f&&!Ou(t,!1))return r.call(t,new xu);r.call(t)},y=()=>{t.req.on("finish",d)};vm(t)?(t.on("complete",d),c||t.on("abort",b),t.req?y():t.on("request",y)):o&&!a&&(t.on("end",u),t.on("close",u)),!c&&typeof t.aborted=="boolean"&&t.on("aborted",b),t.on("end",p),t.on("finish",d),e.error!==!1&&t.on("error",g),t.on("close",b),m?nr.nextTick(b):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?c||nr.nextTick(b):(!s&&(!c||Nu(t))&&(f||vu(t)===!1)||!o&&(!c||vu(t))&&(h||Nu(t)===!1)||l&&t.req&&t.aborted)&&nr.nextTick(b);let S=()=>{r=Lm,t.removeListener("aborted",b),t.removeListener("complete",d),t.removeListener("abort",b),t.removeListener("request",y),t.req&&t.req.removeListener("finish",d),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",d),t.removeListener("end",p),t.removeListener("error",g),t.removeListener("close",b)};if(e.signal&&!m){let E=()=>{let N=r;S(),N.call(t,new mm(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)nr.nextTick(E);else{let N=r;r=Au((...w)=>{e.signal.removeEventListener("abort",E),N.apply(t,w)}),e.signal.addEventListener("abort",E)}}return S}function Om(t,e){return new Em((r,n)=>{Ru(t,e,i=>{i?n(i):r()})})}to.exports=Ru;to.exports.finished=Om});var $u=A((Jw,io)=>{"use strict";var Cu=globalThis.AbortController||Gn().AbortController,{codes:{ERR_INVALID_ARG_TYPE:Gr,ERR_MISSING_ARGS:Rm,ERR_OUT_OF_RANGE:km},AbortError:je}=se(),{validateAbortSignal:ir,validateInteger:Pm,validateObject:sr}=Wr(),Mm=V().Symbol("kWeak"),{finished:Cm}=ct(),{ArrayPrototypePush:Bm,MathFloor:Dm,Number:qm,NumberIsNaN:$m,Promise:ku,PromiseReject:Pu,PromisePrototypeThen:Fm,Symbol:Bu}=V(),ei=Bu("kEmpty"),Mu=Bu("kEof");function ti(t,e){if(typeof t!="function")throw new Gr("fn",["Function","AsyncFunction"],t);e!=null&&sr(e,"options"),e?.signal!=null&&ir(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=Dm(e.concurrency)),Pm(r,"concurrency",1),async function*(){var i,s;let o=new Cu,a=this,l=[],u=o.signal,c={signal:u},f=()=>o.abort();e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted&&f(),e==null||(s=e.signal)===null||s===void 0||s.addEventListener("abort",f);let d,h,p=!1;function g(){p=!0}async function m(){try{for await(let S of a){var b;if(p)return;if(u.aborted)throw new je;try{S=t(S,c)}catch(E){S=Pu(E)}S!==ei&&(typeof((b=S)===null||b===void 0?void 0:b.catch)=="function"&&S.catch(g),l.push(S),d&&(d(),d=null),!p&&l.length&&l.length>=r&&await new ku(E=>{h=E}))}l.push(Mu)}catch(S){let E=Pu(S);Fm(E,void 0,g),l.push(E)}finally{var y;p=!0,d&&(d(),d=null),e==null||(y=e.signal)===null||y===void 0||y.removeEventListener("abort",f)}}m();try{for(;;){for(;l.length>0;){let b=await l[0];if(b===Mu)return;if(u.aborted)throw new je;b!==ei&&(yield b),l.shift(),h&&(h(),h=null)}await new ku(b=>{d=b})}}finally{o.abort(),p=!0,h&&(h(),h=null)}}.call(this)}function jm(t=void 0){return t!=null&&sr(t,"options"),t?.signal!=null&&ir(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new je({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function Du(t,e=void 0){for await(let r of no.call(this,t,e))return!0;return!1}async function Um(t,e=void 0){if(typeof t!="function")throw new Gr("fn",["Function","AsyncFunction"],t);return!await Du.call(this,async(...r)=>!await t(...r),e)}async function Hm(t,e){for await(let r of no.call(this,t,e))return r}async function Wm(t,e){if(typeof t!="function")throw new Gr("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),ei}for await(let n of ti.call(this,r,e));}function no(t,e){if(typeof t!="function")throw new Gr("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:ei}return ti.call(this,r,e)}var ro=class extends Rm{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Gm(t,e,r){var n;if(typeof t!="function")throw new Gr("reducer",["Function","AsyncFunction"],t);r!=null&&sr(r,"options"),r?.signal!=null&&ir(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let u=new je(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Cm(this.destroy(u)),u}let s=new Cu,o=s.signal;if(r!=null&&r.signal){let u={once:!0,[Mm]:this};r.signal.addEventListener("abort",()=>s.abort(),u)}let a=!1;try{for await(let u of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new je;i?e=await t(e,u,{signal:o}):(e=u,i=!0)}if(!a&&!i)throw new ro}finally{s.abort()}return e}async function Km(t){t!=null&&sr(t,"options"),t?.signal!=null&&ir(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new je(void 0,{cause:t.signal.reason});Bm(e,n)}return e}function Qm(t,e){let r=ti.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function qu(t){if(t=qm(t),$m(t))return 0;if(t<0)throw new km("number",">= 0",t);return t}function Vm(t,e=void 0){return e!=null&&sr(e,"options"),e?.signal!=null&&ir(e.signal,"options.signal"),t=qu(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new je;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new je;t--<=0&&(yield s)}}.call(this)}function Ym(t,e=void 0){return e!=null&&sr(e,"options"),e?.signal!=null&&ir(e.signal,"options.signal"),t=qu(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new je;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new je;if(t-- >0)yield s;else return}}.call(this)}io.exports.streamReturningOperators={asIndexedPairs:jm,drop:Vm,filter:no,flatMap:Qm,map:ti,take:Ym};io.exports.promiseReturningOperators={every:Um,forEach:Wm,reduce:Gm,toArray:Km,some:Du,find:Hm}});var Bt=A((Xw,Qu)=>{"use strict";var dt=ut(),{aggregateTwoErrors:zm,codes:{ERR_MULTIPLE_CALLBACK:Jm},AbortError:Xm}=se(),{Symbol:Uu}=V(),{kDestroyed:Zm,isDestroyed:e_,isFinished:t_,isServerRequest:r_}=ft(),Hu=Uu("kDestroy"),so=Uu("kConstruct");function Wu(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function n_(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n&&n.destroyed||r&&r.destroyed?(typeof e=="function"&&e(),this):(Wu(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?Fu(this,t,e):this.once(Hu,function(s){Fu(this,zm(s,t),e)}),this)}function Fu(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;Wu(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?dt.nextTick(i_,t,s):dt.nextTick(Gu,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function i_(t,e){oo(t,e),Gu(t)}function Gu(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r&&r.emitClose||e&&e.emitClose)&&t.emit("close")}function oo(t,e){let r=t._readableState,n=t._writableState;n&&n.errorEmitted||r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function s_(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function ao(t,e,r){let n=t._readableState,i=t._writableState;if(i&&i.destroyed||n&&n.destroyed)return this;n&&n.autoDestroy||i&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?dt.nextTick(oo,t,e):oo(t,e))}function o_(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(so,e),!(t.listenerCount(so)>1)&&dt.nextTick(a_,t)}function a_(t){let e=!1;function r(n){if(e){ao(t,n??new Jm);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(Hu,n):n?ao(t,n,!0):dt.nextTick(l_,t)}try{t._construct(r)}catch(n){r(n)}}function l_(t){t.emit(so)}function ju(t){return t&&t.setHeader&&typeof t.abort=="function"}function Ku(t){t.emit("close")}function u_(t,e){t.emit("error",e),dt.nextTick(Ku,t)}function f_(t,e){!t||e_(t)||(!e&&!t_(t)&&(e=new Xm),r_(t)?(t.socket=null,t.destroy(e)):ju(t)?t.abort():ju(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?dt.nextTick(u_,t,e):dt.nextTick(Ku,t),t.destroyed||(t[Zm]=!0))}Qu.exports={construct:o_,destroyer:f_,destroy:n_,undestroy:s_,errorOrDestroy:ao}});var ii=A((Zw,lo)=>{"use strict";var or=typeof Reflect=="object"?Reflect:null,Vu=or&&typeof or.apply=="function"?or.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ri;or&&typeof or.ownKeys=="function"?ri=or.ownKeys:Object.getOwnPropertySymbols?ri=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ri=function(e){return Object.getOwnPropertyNames(e)};function c_(t){console&&console.warn&&console.warn(t)}var zu=Number.isNaN||function(e){return e!==e};function D(){D.init.call(this)}lo.exports=D;lo.exports.once=g_;D.EventEmitter=D;D.prototype._events=void 0;D.prototype._eventsCount=0;D.prototype._maxListeners=void 0;var Yu=10;function ni(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(D,"defaultMaxListeners",{enumerable:!0,get:function(){return Yu},set:function(t){if(typeof t!="number"||t<0||zu(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Yu=t}});D.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};D.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||zu(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ju(t){return t._maxListeners===void 0?D.defaultMaxListeners:t._maxListeners}D.prototype.getMaxListeners=function(){return Ju(this)};D.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")Vu(l,this,r);else for(var u=l.length,c=rf(l,u),n=0;n<u;++n)Vu(c[n],this,r);return!0};function Xu(t,e,r,n){var i,s,o;if(ni(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=Ju(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,c_(a)}return t}D.prototype.addListener=function(e,r){return Xu(this,e,r,!1)};D.prototype.on=D.prototype.addListener;D.prototype.prependListener=function(e,r){return Xu(this,e,r,!0)};function d_(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Zu(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=d_.bind(n);return i.listener=r,n.wrapFn=i,i}D.prototype.once=function(e,r){return ni(r),this.on(e,Zu(this,e,r)),this};D.prototype.prependOnceListener=function(e,r){return ni(r),this.prependListener(e,Zu(this,e,r)),this};D.prototype.removeListener=function(e,r){var n,i,s,o,a;if(ni(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():h_(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};D.prototype.off=D.prototype.removeListener;D.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function ef(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?p_(i):rf(i,i.length)}D.prototype.listeners=function(e){return ef(this,e,!0)};D.prototype.rawListeners=function(e){return ef(this,e,!1)};D.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):tf.call(t,e)};D.prototype.listenerCount=tf;function tf(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}D.prototype.eventNames=function(){return this._eventsCount>0?ri(this._events):[]};function rf(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function h_(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function p_(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function g_(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}nf(t,e,s,{once:!0}),e!=="error"&&m_(t,i,{once:!0})})}function m_(t,e,r){typeof t.on=="function"&&nf(t,"error",e,r)}function nf(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var ai=A((eS,of)=>{"use strict";var{ArrayIsArray:__,ObjectSetPrototypeOf:sf}=V(),{EventEmitter:si}=ii();function oi(t){si.call(this,t)}sf(oi.prototype,si.prototype);sf(oi,si);oi.prototype.pipe=function(t,e){let r=this;function n(c){t.writable&&t.write(c)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(c){u(),si.listenerCount(this,"error")===0&&this.emit("error",c)}uo(r,"error",l),uo(t,"error",l);function u(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t};function uo(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):__(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}of.exports={Stream:oi,prependListener:uo}});var ui=A((tS,li)=>{"use strict";var{AbortError:y_,codes:b_}=se(),w_=ct(),{ERR_INVALID_ARG_TYPE:af}=b_,S_=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new af(e,"AbortSignal",t)};function E_(t){return!!(t&&typeof t.pipe=="function")}li.exports.addAbortSignal=function(e,r){if(S_(e,"signal"),!E_(r))throw new af("stream","stream.Stream",r);return li.exports.addAbortSignalNoValidate(e,r)};li.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=()=>{e.destroy(new y_(void 0,{cause:t.reason}))};return t.aborted?r():(t.addEventListener("abort",r),w_(e,()=>t.removeEventListener("abort",r))),e}});var ff=A((nS,uf)=>{"use strict";var{StringPrototypeSlice:lf,SymbolIterator:x_,TypedArrayPrototypeSet:fi,Uint8Array:I_}=V(),{Buffer:fo}=ze(),{inspect:A_}=qe();uf.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return fo.alloc(0);let r=fo.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)fi(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[x_](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=lf(s,0,e),this.head=n,n.data=lf(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=fo.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)fi(r,o,n-e),e-=o.length;else{e===o.length?(fi(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(fi(r,new I_(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return A_(this,{...r,depth:0,customInspect:!1})}}});var ci=A((iS,df)=>{"use strict";var{MathFloor:N_,NumberIsInteger:T_}=V(),{ERR_INVALID_ARG_VALUE:v_}=se().codes;function L_(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function cf(t){return t?16:16*1024}function O_(t,e,r,n){let i=L_(e,n,r);if(i!=null){if(!T_(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new v_(s,i)}return N_(i)}return cf(t.objectMode)}df.exports={getHighWaterMark:O_,getDefaultHighWaterMark:cf}});var gf=A((co,pf)=>{var di=ze(),Ue=di.Buffer;function hf(t,e){for(var r in t)e[r]=t[r]}Ue.from&&Ue.alloc&&Ue.allocUnsafe&&Ue.allocUnsafeSlow?pf.exports=di:(hf(di,co),co.Buffer=Dt);function Dt(t,e,r){return Ue(t,e,r)}Dt.prototype=Object.create(Ue.prototype);hf(Ue,Dt);Dt.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ue(t,e,r)};Dt.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Ue(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Dt.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ue(t)};Dt.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return di.SlowBuffer(t)}});var yf=A(_f=>{"use strict";var po=gf().Buffer,mf=po.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function R_(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function k_(t){var e=R_(t);if(typeof e!="string"&&(po.isEncoding===mf||!mf(t)))throw new Error("Unknown encoding: "+t);return e||t}_f.StringDecoder=Kr;function Kr(t){this.encoding=k_(t);var e;switch(this.encoding){case"utf16le":this.text=q_,this.end=$_,e=4;break;case"utf8":this.fillLast=C_,e=4;break;case"base64":this.text=F_,this.end=j_,e=3;break;default:this.write=U_,this.end=H_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=po.allocUnsafe(e)}Kr.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Kr.prototype.end=D_;Kr.prototype.text=B_;Kr.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function ho(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function P_(t,e,r){var n=e.length-1;if(n<r)return 0;var i=ho(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=ho(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=ho(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function M_(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function C_(t){var e=this.lastTotal-this.lastNeed,r=M_(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function B_(t,e){var r=P_(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function D_(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function q_(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function $_(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function F_(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function j_(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function U_(t){return t.toString(this.encoding)}function H_(t){return t&&t.length?this.write(t):""}});var go=A((oS,Ef)=>{"use strict";var bf=ut(),{PromisePrototypeThen:W_,SymbolAsyncIterator:wf,SymbolIterator:Sf}=V(),{Buffer:G_}=ze(),{ERR_INVALID_ARG_TYPE:K_,ERR_STREAM_NULL_VALUES:Q_}=se().codes;function V_(t,e,r){let n;if(typeof e=="string"||e instanceof G_)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[wf])i=!0,n=e[wf]();else if(e&&e[Sf])i=!1,n=e[Sf]();else throw new K_("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(u,c){W_(a(u),()=>bf.nextTick(c,u),f=>bf.nextTick(c,f||u))};async function a(u){let c=u!=null,f=typeof n.throw=="function";if(c&&f){let{value:d,done:h}=await n.throw(u);if(await d,h)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:u,done:c}=i?await n.next():n.next();if(c)s.push(null);else{let f=u&&typeof u.then=="function"?await u:u;if(f===null)throw o=!1,new Q_;if(s.push(f))continue;o=!1}}catch(u){s.destroy(u)}break}}return s}Ef.exports=V_});var Qr=A((aS,Cf)=>{var Ie=ut(),{ArrayPrototypeIndexOf:Y_,NumberIsInteger:z_,NumberIsNaN:J_,NumberParseInt:X_,ObjectDefineProperties:Af,ObjectKeys:Z_,ObjectSetPrototypeOf:Nf,Promise:ey,SafeSet:ty,SymbolAsyncIterator:ry,Symbol:ny}=V();Cf.exports=v;v.ReadableState=So;var{EventEmitter:iy}=ii(),{Stream:ht,prependListener:sy}=ai(),{Buffer:mo}=ze(),{addAbortSignal:oy}=ui(),ay=ct(),O=qe().debuglog("stream",t=>{O=t}),ly=ff(),lr=Bt(),{getHighWaterMark:uy,getDefaultHighWaterMark:fy}=ci(),{aggregateTwoErrors:xf,codes:{ERR_INVALID_ARG_TYPE:cy,ERR_METHOD_NOT_IMPLEMENTED:dy,ERR_OUT_OF_RANGE:hy,ERR_STREAM_PUSH_AFTER_EOF:py,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:gy}}=se(),{validateObject:my}=Wr(),qt=ny("kPaused"),{StringDecoder:Tf}=yf(),_y=go();Nf(v.prototype,ht.prototype);Nf(v,ht);var _o=()=>{},{errorOrDestroy:ar}=lr;function So(t,e,r){typeof r!="boolean"&&(r=e instanceof He()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?uy(this,t,"readableHighWaterMark",r):fy(!1),this.buffer=new ly,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[qt]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new Tf(t.encoding),this.encoding=t.encoding)}function v(t){if(!(this instanceof v))return new v(t);let e=this instanceof He();this._readableState=new So(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&oy(t.signal,this)),ht.call(this,t),lr.construct(this,()=>{this._readableState.needReadable&&hi(this,this._readableState)})}v.prototype.destroy=lr.destroy;v.prototype._undestroy=lr.undestroy;v.prototype._destroy=function(t,e){e(t)};v.prototype[iy.captureRejectionSymbol]=function(t){this.destroy(t)};v.prototype.push=function(t,e){return vf(this,t,e,!1)};v.prototype.unshift=function(t,e){return vf(this,t,e,!0)};function vf(t,e,r,n){O("readableAddChunk",e);let i=t._readableState,s;if(i.objectMode||(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=mo.from(e,r).toString(i.encoding):(e=mo.from(e,r),r=""))):e instanceof mo?r="":ht._isUint8Array(e)?(e=ht._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new cy("chunk",["string","Buffer","Uint8Array"],e))),s)ar(t,s);else if(e===null)i.reading=!1,wy(t,i);else if(i.objectMode||e&&e.length>0)if(n)if(i.endEmitted)ar(t,new gy);else{if(i.destroyed||i.errored)return!1;yo(t,i,e,!0)}else if(i.ended)ar(t,new py);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?yo(t,i,e,!1):hi(t,i)):yo(t,i,e,!1)}else n||(i.reading=!1,hi(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function yo(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&pi(t)),hi(t,e)}v.prototype.isPaused=function(){let t=this._readableState;return t[qt]===!0||t.flowing===!1};v.prototype.setEncoding=function(t){let e=new Tf(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var yy=1073741824;function by(t){if(t>yy)throw new hy("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function If(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:J_(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}v.prototype.read=function(t){O("read",t),t===void 0?t=NaN:z_(t)||(t=X_(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=by(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return O("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?bo(this):pi(this),null;if(t=If(t,e),t===0&&e.ended)return e.length===0&&bo(this),null;let n=e.needReadable;if(O("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,O("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,O("reading, ended or constructing",n);else if(n){O("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(s){ar(this,s)}e.sync=!1,e.reading||(t=If(r,e))}let i;return t>0?i=Pf(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&bo(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function wy(t,e){if(O("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?pi(t):(e.needReadable=!1,e.emittedReadable=!0,Lf(t))}}function pi(t){let e=t._readableState;O("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(O("emitReadable",e.flowing),e.emittedReadable=!0,Ie.nextTick(Lf,t))}function Lf(t){let e=t._readableState;O("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Rf(t)}function hi(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Ie.nextTick(Sy,t,e))}function Sy(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(O("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}v.prototype._read=function(t){throw new dy("_read()")};v.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new ty(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),O("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Ie.stdout&&t!==Ie.stderr?a:m;n.endEmitted?Ie.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(b,y){O("onunpipe"),b===r&&y&&y.hasUnpiped===!1&&(y.hasUnpiped=!0,c())}function a(){O("onend"),t.end()}let l,u=!1;function c(){O("cleanup"),t.removeListener("close",p),t.removeListener("finish",g),l&&t.removeListener("drain",l),t.removeListener("error",h),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",d),u=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function f(){u||(n.pipes.length===1&&n.pipes[0]===t?(O("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(O("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=Ey(r,t),t.on("drain",l))}r.on("data",d);function d(b){O("ondata");let y=t.write(b);O("dest.write",y),y===!1&&f()}function h(b){if(O("onerror",b),m(),t.removeListener("error",h),t.listenerCount("error")===0){let y=t._writableState||t._readableState;y&&!y.errorEmitted?ar(t,b):t.emit("error",b)}}sy(t,"error",h);function p(){t.removeListener("finish",g),m()}t.once("close",p);function g(){O("onfinish"),t.removeListener("close",p),m()}t.once("finish",g);function m(){O("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?n.flowing&&f():n.flowing||(O("pipe resume"),r.resume()),t};function Ey(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(O("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(O("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}v.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Y_(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};v.prototype.on=function(t,e){let r=ht.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,O("on readable",n.length,n.reading),n.length?pi(this):n.reading||Ie.nextTick(xy,this)),r};v.prototype.addListener=v.prototype.on;v.prototype.removeListener=function(t,e){let r=ht.prototype.removeListener.call(this,t,e);return t==="readable"&&Ie.nextTick(Of,this),r};v.prototype.off=v.prototype.removeListener;v.prototype.removeAllListeners=function(t){let e=ht.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Ie.nextTick(Of,this),e};function Of(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[qt]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function xy(t){O("readable nexttick read 0"),t.read(0)}v.prototype.resume=function(){let t=this._readableState;return t.flowing||(O("resume"),t.flowing=!t.readableListening,Iy(this,t)),t[qt]=!1,this};function Iy(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Ie.nextTick(Ay,t,e))}function Ay(t,e){O("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Rf(t),e.flowing&&!e.reading&&t.read(0)}v.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[qt]=!0,this};function Rf(t){let e=t._readableState;for(O("flow",e.flowing);e.flowing&&t.read()!==null;);}v.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{ar(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Z_(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};v.prototype[ry]=function(){return kf(this)};v.prototype.iterator=function(t){return t!==void 0&&my(t,"options"),kf(this,t)};function kf(t,e){typeof t.read!="function"&&(t=v.wrap(t,{objectMode:!0}));let r=Ny(t,e);return r.stream=t,r}async function*Ny(t,e){let r=_o;function n(o){this===t?(r(),r=_o):r=o}t.on("readable",n);let i,s=ay(t,{writable:!1},o=>{i=o?xf(i,o):null,r(),r=_o});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new ey(n)}}}catch(o){throw i=xf(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?lr.destroyer(t,null):(t.off("readable",n),s())}}Af(v.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Af(So.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[qt]!==!1},set(t){this[qt]=!!t}}});v._fromList=Pf;function Pf(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function bo(t){let e=t._readableState;O("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Ie.nextTick(Ty,e,t))}function Ty(t,e){if(O("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Ie.nextTick(vy,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function vy(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}v.from=function(t,e){return _y(v,t,e)};var wo;function Mf(){return wo===void 0&&(wo={}),wo}v.fromWeb=function(t,e){return Mf().newStreamReadableFromReadableStream(t,e)};v.toWeb=function(t,e){return Mf().newReadableStreamFromStreamReadable(t,e)};v.wrap=function(t,e){var r,n;return new v({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){lr.destroyer(t,i),s(i)}}).wrap(t)}});var vo=A((lS,Qf)=>{var $t=ut(),{ArrayPrototypeSlice:qf,Error:Ly,FunctionPrototypeSymbolHasInstance:$f,ObjectDefineProperty:Ff,ObjectDefineProperties:Oy,ObjectSetPrototypeOf:jf,StringPrototypeToLowerCase:Ry,Symbol:ky,SymbolHasInstance:Py}=V();Qf.exports=F;F.WritableState=zr;var{EventEmitter:My}=ii(),Vr=ai().Stream,{Buffer:gi}=ze(),yi=Bt(),{addAbortSignal:Cy}=ui(),{getHighWaterMark:By,getDefaultHighWaterMark:Dy}=ci(),{ERR_INVALID_ARG_TYPE:qy,ERR_METHOD_NOT_IMPLEMENTED:$y,ERR_MULTIPLE_CALLBACK:Uf,ERR_STREAM_CANNOT_PIPE:Fy,ERR_STREAM_DESTROYED:Yr,ERR_STREAM_ALREADY_FINISHED:jy,ERR_STREAM_NULL_VALUES:Uy,ERR_STREAM_WRITE_AFTER_END:Hy,ERR_UNKNOWN_ENCODING:Hf}=se().codes,{errorOrDestroy:ur}=yi;jf(F.prototype,Vr.prototype);jf(F,Vr);function Io(){}var fr=ky("kOnFinished");function zr(t,e,r){typeof r!="boolean"&&(r=e instanceof He()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?By(this,t,"writableHighWaterMark",r):Dy(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Gy.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,_i(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[fr]=[]}function _i(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}zr.prototype.getBuffer=function(){return qf(this.buffered,this.bufferedIndex)};Ff(zr.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function F(t){let e=this instanceof He();if(!e&&!$f(F,this))return new F(t);this._writableState=new zr(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Cy(t.signal,this)),Vr.call(this,t),yi.construct(this,()=>{let r=this._writableState;r.writing||No(this,r),To(this,r)})}Ff(F,Py,{__proto__:null,value:function(t){return $f(this,t)?!0:this!==F?!1:t&&t._writableState instanceof zr}});F.prototype.pipe=function(){ur(this,new Fy)};function Wf(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!gi.isEncoding(r))throw new Hf(r);typeof n!="function"&&(n=Io)}if(e===null)throw new Uy;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=gi.from(e,r),r="buffer");else if(e instanceof gi)r="buffer";else if(Vr._isUint8Array(e))e=Vr._uint8ArrayToBuffer(e),r="buffer";else throw new qy("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Hy:i.destroyed&&(s=new Yr("write")),s?($t.nextTick(n,s),ur(t,s,!0),s):(i.pendingcb++,Wy(t,i,e,r,n))}F.prototype.write=function(t,e,r){return Wf(this,t,e,r)===!0};F.prototype.cork=function(){this._writableState.corked++};F.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||No(this,t))};F.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Ry(e)),!gi.isEncoding(e))throw new Hf(e);return this._writableState.defaultEncoding=e,this};function Wy(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Io&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function Bf(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Yr("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function Df(t,e,r,n){--e.pendingcb,n(r),Ao(e),ur(t,r)}function Gy(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){ur(t,new Uf);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?$t.nextTick(Df,t,r,e,i):Df(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&No(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},$t.nextTick(Ky,r.afterWriteTickInfo)):Gf(t,r,1,i))}function Ky({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,Gf(t,e,r,n)}function Gf(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&Ao(e),To(t,e)}function Ao(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Yr("write"))}let r=t[fr].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Yr("end"))}_i(t)}function No(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?Io:u=>{for(let c=o;c<r.length;++c)r[c].callback(u)},l=e.allNoop&&o===0?r:qf(r,o);l.allBuffers=e.allBuffers,Bf(t,e,!0,e.length,l,"",a),_i(e)}else{do{let{chunk:a,encoding:l,callback:u}=r[o];r[o++]=null;let c=i?1:a.length;Bf(t,e,!1,c,a,l,u)}while(o<r.length&&!e.writing);o===r.length?_i(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}F.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new $y("_write()")};F.prototype._writev=null;F.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=Wf(this,t,e);s instanceof Ly&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,To(this,n,!0),n.ended=!0):n.finished?i=new jy("end"):n.destroyed&&(i=new Yr("end"))),typeof r=="function"&&(i||n.finished?$t.nextTick(r,i):n[fr].push(r)),this};function mi(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Qy(t,e){let r=!1;function n(i){if(r){ur(t,i??Uf());return}if(r=!0,e.pendingcb--,i){let s=e[fr].splice(0);for(let o=0;o<s.length;o++)s[o](i);ur(t,i,e.sync)}else mi(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,$t.nextTick(xo,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Vy(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Qy(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function To(t,e,r){mi(e)&&(Vy(t,e),e.pendingcb===0&&(r?(e.pendingcb++,$t.nextTick((n,i)=>{mi(i)?xo(n,i):i.pendingcb--},t,e)):mi(e)&&(e.pendingcb++,xo(t,e))))}function xo(t,e){e.pendingcb--,e.finished=!0;let r=e[fr].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}Oy(F.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Yy=yi.destroy;F.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[fr].length)&&$t.nextTick(Ao,r),Yy.call(this,t,e),this};F.prototype._undestroy=yi.undestroy;F.prototype._destroy=function(t,e){e(t)};F.prototype[My.captureRejectionSymbol]=function(t){this.destroy(t)};var Eo;function Kf(){return Eo===void 0&&(Eo={}),Eo}F.fromWeb=function(t,e){return Kf().newStreamWritableFromWritableStream(t,e)};F.toWeb=function(t){return Kf().newWritableStreamFromStreamWritable(t)}});var sc=A((uS,ic)=>{var Lo=ut(),zy=ze(),{isReadable:Jy,isWritable:Xy,isIterable:Vf,isNodeStream:Zy,isReadableNodeStream:Yf,isWritableNodeStream:zf,isDuplexNodeStream:eb}=ft(),Jf=ct(),{AbortError:nc,codes:{ERR_INVALID_ARG_TYPE:tb,ERR_INVALID_RETURN_VALUE:Xf}}=se(),{destroyer:cr}=Bt(),rb=He(),nb=Qr(),{createDeferredPromise:Zf}=qe(),ec=go(),tc=globalThis.Blob||zy.Blob,ib=typeof tc<"u"?function(e){return e instanceof tc}:function(e){return!1},sb=globalThis.AbortController||Gn().AbortController,{FunctionPrototypeCall:rc}=V(),Ft=class extends rb{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};ic.exports=function t(e,r){if(eb(e))return e;if(Yf(e))return bi({readable:e});if(zf(e))return bi({writable:e});if(Zy(e))return bi({writable:!1,readable:!1});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=ob(e);if(Vf(i))return ec(Ft,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let u,c=rc(l,i,f=>{if(f!=null)throw new Xf("nully","body",f)},f=>{cr(u,f)});return u=new Ft({objectMode:!0,readable:!1,write:s,final(f){o(async()=>{try{await c,Lo.nextTick(f,null)}catch(d){Lo.nextTick(f,d)}})},destroy:a})}throw new Xf("Iterable, AsyncIterable or AsyncFunction",r,i)}if(ib(e))return t(e.arrayBuffer());if(Vf(e))return ec(Ft,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?Yf(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?zf(e?.writable)?e?.writable:t(e.writable):void 0;return bi({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return rc(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{cr(i,s)}),i=new Ft({objectMode:!0,writable:!1,read(){}})}throw new tb(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function ob(t){let{promise:e,resolve:r}=Zf(),n=new sb,i=n.signal;return{value:t(async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:u}=await o;if(Lo.nextTick(u),l)return;if(i.aborted)throw new nc(void 0,{cause:i.reason});({promise:e,resolve:r}=Zf()),yield a}}(),{signal:i}),write(o,a,l){let u=r;r=null,u({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function bi(t){let e=t.readable&&typeof t.readable.read!="function"?nb.wrap(t.readable):t.readable,r=t.writable,n=!!Jy(e),i=!!Xy(r),s,o,a,l,u;function c(f){let d=l;l=null,d?d(f):f?u.destroy(f):!n&&!i&&u.destroy()}return u=new Ft({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(Jf(r,f=>{i=!1,f&&cr(e,f),c(f)}),u._write=function(f,d,h){r.write(f,d)?h():s=h},u._final=function(f){r.end(),o=f},r.on("drain",function(){if(s){let f=s;s=null,f()}}),r.on("finish",function(){if(o){let f=o;o=null,f()}})),n&&(Jf(e,f=>{n=!1,f&&cr(e,f),c(f)}),e.on("readable",function(){if(a){let f=a;a=null,f()}}),e.on("end",function(){u.push(null)}),u._read=function(){for(;;){let f=e.read();if(f===null){a=u._read;return}if(!u.push(f))return}}),u._destroy=function(f,d){!f&&l!==null&&(f=new nc),a=null,s=null,o=null,l===null?d(f):(l=d,cr(r,f),cr(e,f))},u}});var He=A((fS,lc)=>{"use strict";var{ObjectDefineProperties:ab,ObjectGetOwnPropertyDescriptor:Ze,ObjectKeys:lb,ObjectSetPrototypeOf:oc}=V();lc.exports=Ae;var ko=Qr(),ye=vo();oc(Ae.prototype,ko.prototype);oc(Ae,ko);{let t=lb(ye.prototype);for(let e=0;e<t.length;e++){let r=t[e];Ae.prototype[r]||(Ae.prototype[r]=ye.prototype[r])}}function Ae(t){if(!(this instanceof Ae))return new Ae(t);ko.call(this,t),ye.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}ab(Ae.prototype,{writable:{__proto__:null,...Ze(ye.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Ze(ye.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Ze(ye.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Ze(ye.prototype,"writableBuffer")},writableLength:{__proto__:null,...Ze(ye.prototype,"writableLength")},writableFinished:{__proto__:null,...Ze(ye.prototype,"writableFinished")},writableCorked:{__proto__:null,...Ze(ye.prototype,"writableCorked")},writableEnded:{__proto__:null,...Ze(ye.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Ze(ye.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var Oo;function ac(){return Oo===void 0&&(Oo={}),Oo}Ae.fromWeb=function(t,e){return ac().newStreamDuplexFromReadableWritablePair(t,e)};Ae.toWeb=function(t){return ac().newReadableWritablePairFromDuplex(t)};var Ro;Ae.from=function(t){return Ro||(Ro=sc()),Ro(t,"body")}});var Co=A((cS,fc)=>{"use strict";var{ObjectSetPrototypeOf:uc,Symbol:ub}=V();fc.exports=et;var{ERR_METHOD_NOT_IMPLEMENTED:fb}=se().codes,Mo=He(),{getHighWaterMark:cb}=ci();uc(et.prototype,Mo.prototype);uc(et,Mo);var Jr=ub("kCallback");function et(t){if(!(this instanceof et))return new et(t);let e=t?cb(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Mo.call(this,t),this._readableState.sync=!1,this[Jr]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",db)}function Po(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function db(){this._final!==Po&&Po.call(this)}et.prototype._final=Po;et.prototype._transform=function(t,e,r){throw new fb("_transform()")};et.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Jr]=r})};et.prototype._read=function(){if(this[Jr]){let t=this[Jr];this[Jr]=null,t()}}});var Do=A((dS,dc)=>{"use strict";var{ObjectSetPrototypeOf:cc}=V();dc.exports=dr;var Bo=Co();cc(dr.prototype,Bo.prototype);cc(dr,Bo);function dr(t){if(!(this instanceof dr))return new dr(t);Bo.call(this,t)}dr.prototype._transform=function(t,e,r){r(null,t)}});var Ei=A((hS,bc)=>{var wi=ut(),{ArrayIsArray:hb,Promise:pb,SymbolAsyncIterator:gb}=V(),Si=ct(),{once:mb}=qe(),_b=Bt(),hc=He(),{aggregateTwoErrors:yb,codes:{ERR_INVALID_ARG_TYPE:_c,ERR_INVALID_RETURN_VALUE:qo,ERR_MISSING_ARGS:bb,ERR_STREAM_DESTROYED:wb,ERR_STREAM_PREMATURE_CLOSE:Sb},AbortError:Eb}=se(),{validateFunction:xb,validateAbortSignal:Ib}=Wr(),{isIterable:hr,isReadable:$o,isReadableNodeStream:Uo,isNodeStream:pc}=ft(),Ab=globalThis.AbortController||Gn().AbortController,Fo,jo;function gc(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Si(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,_b.destroyer(t,s||new wb("pipe")))},cleanup:i}}function Nb(t){return xb(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Tb(t){if(hr(t))return t;if(Uo(t))return vb(t);throw new _c("val",["Readable","Iterable","AsyncIterable"],t)}async function*vb(t){jo||(jo=Qr()),yield*jo.prototype[gb].call(t)}async function mc(t,e,r,{end:n}){let i,s=null,o=u=>{if(u&&(i=u),s){let c=s;s=null,c()}},a=()=>new pb((u,c)=>{i?c(i):s=()=>{i?c(i):u()}});e.on("drain",o);let l=Si(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let u of t)e.write(u)||await a();n&&e.end(),await a(),r()}catch(u){r(i!==u?yb(i,u):u)}finally{l(),e.off("drain",o)}}function Lb(...t){return yc(t,mb(Nb(t)))}function yc(t,e,r){if(t.length===1&&hb(t[0])&&(t=t[0]),t.length<2)throw new bb("streams");let n=new Ab,i=n.signal,s=r?.signal,o=[];Ib(s,"options.signal");function a(){h(new Eb)}s?.addEventListener("abort",a);let l,u,c=[],f=0;function d(b){h(b,--f===0)}function h(b,y){if(b&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=b),!(!l&&!y)){for(;c.length;)c.shift()(l);s?.removeEventListener("abort",a),n.abort(),y&&(l||o.forEach(S=>S()),wi.nextTick(e,l,u))}}let p;for(let b=0;b<t.length;b++){let y=t[b],S=b<t.length-1,E=b>0,N=S||r?.end!==!1,w=b===t.length-1;if(pc(y)){let R=function(M){M&&M.name!=="AbortError"&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"&&d(M)};var m=R;if(N){let{destroy:M,cleanup:Q}=gc(y,S,E);c.push(M),$o(y)&&w&&o.push(Q)}y.on("error",R),$o(y)&&w&&o.push(()=>{y.removeListener("error",R)})}if(b===0)if(typeof y=="function"){if(p=y({signal:i}),!hr(p))throw new qo("Iterable, AsyncIterable or Stream","source",p)}else hr(y)||Uo(y)?p=y:p=hc.from(y);else if(typeof y=="function")if(p=Tb(p),p=y(p,{signal:i}),S){if(!hr(p,!0))throw new qo("AsyncIterable",`transform[${b-1}]`,p)}else{var g;Fo||(Fo=Do());let R=new Fo({objectMode:!0}),M=(g=p)===null||g===void 0?void 0:g.then;if(typeof M=="function")f++,M.call(p,ce=>{u=ce,ce!=null&&R.write(ce),N&&R.end(),wi.nextTick(d)},ce=>{R.destroy(ce),wi.nextTick(d,ce)});else if(hr(p,!0))f++,mc(p,R,d,{end:N});else throw new qo("AsyncIterable or Promise","destination",p);p=R;let{destroy:Q,cleanup:Ve}=gc(p,!1,!0);c.push(Q),w&&o.push(Ve)}else if(pc(y)){if(Uo(p)){f+=2;let R=Ob(p,y,d,{end:N});$o(y)&&w&&o.push(R)}else if(hr(p))f++,mc(p,y,d,{end:N});else throw new _c("val",["Readable","Iterable","AsyncIterable"],p);p=y}else p=hc.from(y)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&wi.nextTick(a),p}function Ob(t,e,r,{end:n}){let i=!1;return e.on("close",()=>{i||r(new Sb)}),t.pipe(e,{end:n}),n?t.once("end",()=>{i=!0,e.end()}):r(),Si(t,{readable:!0,writable:!1},s=>{let o=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&o&&o.ended&&!o.errored&&!o.errorEmitted?t.once("end",r).once("error",r):r(s)}),Si(e,{readable:!1,writable:!0},r)}bc.exports={pipelineImpl:yc,pipeline:Lb}});var Ic=A((pS,xc)=>{"use strict";var{pipeline:Rb}=Ei(),xi=He(),{destroyer:kb}=Bt(),{isNodeStream:Pb,isReadable:wc,isWritable:Sc}=ft(),{AbortError:Mb,codes:{ERR_INVALID_ARG_VALUE:Ec,ERR_MISSING_ARGS:Cb}}=se();xc.exports=function(...e){if(e.length===0)throw new Cb("streams");if(e.length===1)return xi.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=xi.from(e[0])),typeof e[e.length-1]=="function"){let h=e.length-1;e[h]=xi.from(e[h])}for(let h=0;h<e.length;++h)if(Pb(e[h])){if(h<e.length-1&&!wc(e[h]))throw new Ec(`streams[${h}]`,r[h],"must be readable");if(h>0&&!Sc(e[h]))throw new Ec(`streams[${h}]`,r[h],"must be writable")}let n,i,s,o,a;function l(h){let p=o;o=null,p?p(h):h?a.destroy(h):!d&&!f&&a.destroy()}let u=e[0],c=Rb(e,l),f=!!Sc(u),d=!!wc(c);return a=new xi({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(c!=null&&c.writableObjectMode),writable:f,readable:d}),f&&(a._write=function(h,p,g){u.write(h,p)?g():n=g},a._final=function(h){u.end(),i=h},u.on("drain",function(){if(n){let h=n;n=null,h()}}),c.on("finish",function(){if(i){let h=i;i=null,h()}})),d&&(c.on("readable",function(){if(s){let h=s;s=null,h()}}),c.on("end",function(){a.push(null)}),a._read=function(){for(;;){let h=c.read();if(h===null){s=a._read;return}if(!a.push(h))return}}),a._destroy=function(h,p){!h&&o!==null&&(h=new Mb),s=null,n=null,i=null,o===null?p(h):(o=p,kb(c,h))},a}});var Ho=A((gS,Ac)=>{"use strict";var{ArrayPrototypePop:Bb,Promise:Db}=V(),{isIterable:qb,isNodeStream:$b}=ft(),{pipelineImpl:Fb}=Ei(),{finished:jb}=ct();function Ub(...t){return new Db((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!$b(s)&&!qb(s)){let o=Bb(t);n=o.signal,i=o.end}Fb(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}Ac.exports={finished:jb,pipeline:Ub}});var Cc=A((mS,Mc)=>{var{Buffer:Hb}=ze(),{ObjectDefineProperty:tt,ObjectKeys:vc,ReflectApply:Lc}=V(),{promisify:{custom:Oc}}=qe(),{streamReturningOperators:Nc,promiseReturningOperators:Tc}=$u(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Rc}}=se(),Wb=Ic(),{pipeline:kc}=Ei(),{destroyer:Gb}=Bt(),Pc=ct(),Wo=Ho(),Go=ft(),G=Mc.exports=ai().Stream;G.isDisturbed=Go.isDisturbed;G.isErrored=Go.isErrored;G.isReadable=Go.isReadable;G.Readable=Qr();for(let t of vc(Nc)){let r=function(...n){if(new.target)throw Rc();return G.Readable.from(Lc(e,this,n))};Ko=r;let e=Nc[t];tt(r,"name",{__proto__:null,value:e.name}),tt(r,"length",{__proto__:null,value:e.length}),tt(G.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Ko;for(let t of vc(Tc)){let r=function(...i){if(new.target)throw Rc();return Lc(e,this,i)};Ko=r;let e=Tc[t];tt(r,"name",{__proto__:null,value:e.name}),tt(r,"length",{__proto__:null,value:e.length}),tt(G.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Ko;G.Writable=vo();G.Duplex=He();G.Transform=Co();G.PassThrough=Do();G.pipeline=kc;var{addAbortSignal:Kb}=ui();G.addAbortSignal=Kb;G.finished=Pc;G.destroy=Gb;G.compose=Wb;tt(G,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Wo}});tt(kc,Oc,{__proto__:null,enumerable:!0,get(){return Wo.pipeline}});tt(Pc,Oc,{__proto__:null,enumerable:!0,get(){return Wo.finished}});G.Stream=G;G._isUint8Array=function(e){return e instanceof Uint8Array};G._uint8ArrayToBuffer=function(e){return Hb.from(e.buffer,e.byteOffset,e.byteLength)}});var Ii=A((_S,K)=>{"use strict";var J=Cc(),Qb=Ho(),Vb=J.Readable.destroy;K.exports=J.Readable;K.exports._uint8ArrayToBuffer=J._uint8ArrayToBuffer;K.exports._isUint8Array=J._isUint8Array;K.exports.isDisturbed=J.isDisturbed;K.exports.isErrored=J.isErrored;K.exports.isReadable=J.isReadable;K.exports.Readable=J.Readable;K.exports.Writable=J.Writable;K.exports.Duplex=J.Duplex;K.exports.Transform=J.Transform;K.exports.PassThrough=J.PassThrough;K.exports.addAbortSignal=J.addAbortSignal;K.exports.finished=J.finished;K.exports.destroy=J.destroy;K.exports.destroy=Vb;K.exports.pipeline=J.pipeline;K.exports.compose=J.compose;Object.defineProperty(J,"promises",{configurable:!0,enumerable:!0,get(){return Qb}});K.exports.Stream=J.Stream;K.exports.default=K.exports});var qc=A(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.default=void 0;var C=zb(zt()),Bc=Ii(),Xr=Yb(Yt());function Yb(t){return t&&t.__esModule?t:{default:t}}function Dc(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Dc=function(n){return n?r:e})(t)}function zb(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=Dc(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}var Ai=class{constructor(e,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,!r&&e&&!e[0]&&(r=e,e=null),r=r||{},this._factory=r.factory||C.default,e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;let r=this._graphs,n,i;for(let s in r)for(let o in n=r[s].subjects)for(let a in i=n[o])e+=Object.keys(i[a]).length;return this._size=e}_addToIndex(e,r,n,i){let s=e[r]||(e[r]={}),o=s[n]||(s[n]={}),a=i in o;return a||(o[i]=null),!a}_removeFromIndex(e,r,n,i){let s=e[r],o=s[n];delete o[i];for(let a in o)return;delete s[n];for(let a in s)return;delete e[r]}*_findInIndex(e,r,n,i,s,o,a,l){let u,c,f,d=this._entities,h=(0,C.termFromId)(l,this._factory),p={subject:null,predicate:null,object:null};r&&((u=e,e={})[r]=u[r]);for(let g in e)if(c=e[g]){p[s]=(0,C.termFromId)(d[g],this._factory),n&&((u=c,c={})[n]=u[n]);for(let m in c)if(f=c[m]){p[o]=(0,C.termFromId)(d[m],this._factory);let b=i?i in f?[i]:[]:Object.keys(f);for(let y=0;y<b.length;y++)p[a]=(0,C.termFromId)(d[b[y]],this._factory),yield this._factory.quad(p.subject,p.predicate,p.object,h)}}}_loop(e,r){for(let n in e)r(n)}_loopByKey0(e,r,n){let i,s;if(i=e[r])for(s in i)n(s)}_loopByKey1(e,r,n){let i,s;for(i in e)s=e[i],s[r]&&n(i)}_loopBy2Keys(e,r,n,i){let s,o,a;if((s=e[r])&&(o=s[n]))for(a in o)i(a)}_countInIndex(e,r,n,i){let s=0,o,a,l;r&&((o=e,e={})[r]=o[r]);for(let u in e)if(a=e[u]){n&&((o=a,a={})[n]=o[n]);for(let c in a)(l=a[c])&&(i?i in l&&s++:s+=Object.keys(l).length)}return s}_getGraphs(e){if(!de(e))return this._graphs;let r={};return r[e]=this._graphs[e],r}_uniqueEntities(e){let r=Object.create(null);return n=>{n in r||(r[n]=!0,e((0,C.termFromId)(this._entities[n],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,r,n,i){r||(i=e.graph,n=e.object,r=e.predicate,e=e.subject),e=(0,C.termToId)(e),r=(0,C.termToId)(r),n=(0,C.termToId)(n),i=(0,C.termToId)(i);let s=this._graphs[i];s||(s=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(s));let o=this._ids,a=this._entities;e=o[e]||(o[a[++this._id]=e]=this._id),r=o[r]||(o[a[++this._id]=r]=this._id),n=o[n]||(o[a[++this._id]=n]=this._id);let l=this._addToIndex(s.subjects,e,r,n);return this._addToIndex(s.predicates,r,n,e),this._addToIndex(s.objects,n,e,r),this._size=null,l}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}delete(e){return this.removeQuad(e),this}has(e,r,n,i){return e&&e.subject&&({subject:e,predicate:r,object:n,graph:i}=e),!this.readQuads(e,r,n,i).next().done}import(e){return e.on("data",r=>{this.addQuad(r)}),e}removeQuad(e,r,n,i){r||(i=e.graph,n=e.object,r=e.predicate,e=e.subject),e=(0,C.termToId)(e),r=(0,C.termToId)(r),n=(0,C.termToId)(n),i=(0,C.termToId)(i);let s=this._ids,o=this._graphs,a,l,u;if(!(e=s[e])||!(r=s[r])||!(n=s[n])||!(a=o[i])||!(l=a.subjects[e])||!(u=l[r])||!(n in u))return!1;this._removeFromIndex(a.subjects,e,r,n),this._removeFromIndex(a.predicates,r,n,e),this._removeFromIndex(a.objects,n,e,r),this._size!==null&&this._size--;for(e in a.subjects)return!0;return delete o[i],!0}removeQuads(e){for(let r=0;r<e.length;r++)this.removeQuad(e[r])}remove(e){return e.on("data",r=>{this.removeQuad(r)}),e}removeMatches(e,r,n,i){let s=new Bc.Readable({objectMode:!0});return s._read=()=>{for(let o of this.readQuads(e,r,n,i))s.push(o);s.push(null)},this.remove(s)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,r,n,i){return[...this.readQuads(e,r,n,i)]}*readQuads(e,r,n,i){e=e&&(0,C.termToId)(e),r=r&&(0,C.termToId)(r),n=n&&(0,C.termToId)(n),i=i&&(0,C.termToId)(i);let s=this._getGraphs(i),o=this._ids,a,l,u,c;if(!(de(e)&&!(l=o[e])||de(r)&&!(u=o[r])||de(n)&&!(c=o[n])))for(let f in s)(a=s[f])&&(l?c?yield*this._findInIndex(a.objects,c,l,u,"object","subject","predicate",f):yield*this._findInIndex(a.subjects,l,u,null,"subject","predicate","object",f):u?yield*this._findInIndex(a.predicates,u,c,null,"predicate","object","subject",f):c?yield*this._findInIndex(a.objects,c,null,null,"object","subject","predicate",f):yield*this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",f))}match(e,r,n,i){return new Qo(this,e,r,n,i)}countQuads(e,r,n,i){e=e&&(0,C.termToId)(e),r=r&&(0,C.termToId)(r),n=n&&(0,C.termToId)(n),i=i&&(0,C.termToId)(i);let s=this._getGraphs(i),o=this._ids,a=0,l,u,c,f;if(de(e)&&!(u=o[e])||de(r)&&!(c=o[r])||de(n)&&!(f=o[n]))return 0;for(let d in s)(l=s[d])&&(e?n?a+=this._countInIndex(l.objects,f,u,c):a+=this._countInIndex(l.subjects,u,c,f):r?a+=this._countInIndex(l.predicates,c,f,u):a+=this._countInIndex(l.objects,f,u,c));return a}forEach(e,r,n,i,s){this.some(o=>(e(o),!1),r,n,i,s)}every(e,r,n,i,s){let o=!1,a=!this.some(l=>(o=!0,!e(l)),r,n,i,s);return o&&a}some(e,r,n,i,s){for(let o of this.readQuads(r,n,i,s))if(e(o))return!0;return!1}getSubjects(e,r,n){let i=[];return this.forSubjects(s=>{i.push(s)},e,r,n),i}forSubjects(e,r,n,i){r=r&&(0,C.termToId)(r),n=n&&(0,C.termToId)(n),i=i&&(0,C.termToId)(i);let s=this._ids,o=this._getGraphs(i),a,l,u;if(e=this._uniqueEntities(e),!(de(r)&&!(l=s[r])||de(n)&&!(u=s[n])))for(i in o)(a=o[i])&&(l?u?this._loopBy2Keys(a.predicates,l,u,e):this._loopByKey1(a.subjects,l,e):u?this._loopByKey0(a.objects,u,e):this._loop(a.subjects,e))}getPredicates(e,r,n){let i=[];return this.forPredicates(s=>{i.push(s)},e,r,n),i}forPredicates(e,r,n,i){r=r&&(0,C.termToId)(r),n=n&&(0,C.termToId)(n),i=i&&(0,C.termToId)(i);let s=this._ids,o=this._getGraphs(i),a,l,u;if(e=this._uniqueEntities(e),!(de(r)&&!(l=s[r])||de(n)&&!(u=s[n])))for(i in o)(a=o[i])&&(l?u?this._loopBy2Keys(a.objects,u,l,e):this._loopByKey0(a.subjects,l,e):u?this._loopByKey1(a.predicates,u,e):this._loop(a.predicates,e))}getObjects(e,r,n){let i=[];return this.forObjects(s=>{i.push(s)},e,r,n),i}forObjects(e,r,n,i){r=r&&(0,C.termToId)(r),n=n&&(0,C.termToId)(n),i=i&&(0,C.termToId)(i);let s=this._ids,o=this._getGraphs(i),a,l,u;if(e=this._uniqueEntities(e),!(de(r)&&!(l=s[r])||de(n)&&!(u=s[n])))for(i in o)(a=o[i])&&(l?u?this._loopBy2Keys(a.subjects,l,u,e):this._loopByKey1(a.objects,l,e):u?this._loopByKey0(a.predicates,u,e):this._loop(a.objects,e))}getGraphs(e,r,n){let i=[];return this.forGraphs(s=>{i.push(s)},e,r,n),i}forGraphs(e,r,n,i){for(let s in this._graphs)this.some(o=>(e(o.graph),!0),r,n,i,s)}createBlankNode(e){let r,n;if(e)for(r=e=`_:${e}`,n=1;this._ids[r];)r=e+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:e=!1,ignoreErrors:r=!1}={}){let n={},i=r?()=>!0:(a,l)=>{throw new Error(`${a.value} ${l}`)},s=this.getQuads(null,Xr.default.rdf.rest,Xr.default.rdf.nil,null),o=e?[...s]:[];return s.forEach(a=>{let l=[],u=!1,c,f,d=a.graph,h=a.subject;for(;h&&!u;){let p=this.getQuads(null,null,h,null),g=this.getQuads(h,null,null,null),m,b=null,y=null,S=null;for(let E=0;E<g.length&&!u;E++)m=g[E],m.graph.equals(d)?c?u=i(h,"has non-list arcs out"):m.predicate.value===Xr.default.rdf.first?b?u=i(h,"has multiple rdf:first arcs"):o.push(b=m):m.predicate.value===Xr.default.rdf.rest?y?u=i(h,"has multiple rdf:rest arcs"):o.push(y=m):p.length?u=i(h,"can't be subject and object"):(c=m,f="subject"):u=i(h,"not confined to single graph");for(let E=0;E<p.length&&!u;++E)m=p[E],c?u=i(h,"can't have coreferences"):m.predicate.value===Xr.default.rdf.rest?S?u=i(h,"has incoming rdf:rest arcs"):S=m:(c=m,f="object");b?l.unshift(b.object):u=i(h,"has no list head"),h=S&&S.subject}u?e=!1:c&&(n[c[f].value]=l)}),e&&this.removeQuads(o),n}*[Symbol.iterator](){yield*this.readQuads()}};Ni.default=Ai;function de(t){return typeof t=="string"||t instanceof String}var Qo=class t extends Bc.Readable{constructor(e,r,n,i,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:r,predicate:n,object:i,graph:s})}get filtered(){if(!this._filtered){let{n3Store:e,graph:r,object:n,predicate:i,subject:s}=this,o=this._filtered=new Ai({factory:e._factory});for(let a of e.readQuads(s,i,n,r))o.addQuad(a)}return this._filtered}get size(){return this.filtered.size}_read(){for(let e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,r,n,i){return new t(this.filtered,e,r,n,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}});var $c=A(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.default=void 0;var Jb=Zb(Ps()),Xb=Ii();function Zb(t){return t&&t.__esModule?t:{default:t}}var Vo=class extends Xb.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;let r=new Jb.default(e),n,i;r.parse({on:(s,o)=>{switch(s){case"data":n=o;break;case"end":i=o;break}}},(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},(s,o)=>{this.emit("prefix",s,o)}),this._transform=(s,o,a)=>{n(s),a()},this._flush=s=>{i(),s()}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),this}};Ti.default=Vo});var Fc=A(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.default=void 0;var e0=Ii(),t0=r0(Cs());function r0(t){return t&&t.__esModule?t:{default:t}}var Yo=class extends e0.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});let r=this._writer=new t0.default({write:(n,i,s)=>{this.push(n),s&&s()},end:n=>{this.push(null),n&&n()}},e);this._transform=(n,i,s)=>{r.addQuad(n,s)},this._flush=n=>{r.end(n)}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),e.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}};vi.default=Yo});var Zr=A(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});Object.defineProperty(j,"BlankNode",{enumerable:!0,get:function(){return H.BlankNode}});Object.defineProperty(j,"DataFactory",{enumerable:!0,get:function(){return H.default}});Object.defineProperty(j,"DefaultGraph",{enumerable:!0,get:function(){return H.DefaultGraph}});Object.defineProperty(j,"Lexer",{enumerable:!0,get:function(){return jc.default}});Object.defineProperty(j,"Literal",{enumerable:!0,get:function(){return H.Literal}});Object.defineProperty(j,"NamedNode",{enumerable:!0,get:function(){return H.NamedNode}});Object.defineProperty(j,"Parser",{enumerable:!0,get:function(){return Uc.default}});Object.defineProperty(j,"Quad",{enumerable:!0,get:function(){return H.Quad}});Object.defineProperty(j,"Store",{enumerable:!0,get:function(){return Wc.default}});Object.defineProperty(j,"StreamParser",{enumerable:!0,get:function(){return Gc.default}});Object.defineProperty(j,"StreamWriter",{enumerable:!0,get:function(){return Kc.default}});Object.defineProperty(j,"Term",{enumerable:!0,get:function(){return H.Term}});Object.defineProperty(j,"Triple",{enumerable:!0,get:function(){return H.Triple}});j.Util=void 0;Object.defineProperty(j,"Variable",{enumerable:!0,get:function(){return H.Variable}});Object.defineProperty(j,"Writer",{enumerable:!0,get:function(){return Hc.default}});j.default=void 0;Object.defineProperty(j,"termFromId",{enumerable:!0,get:function(){return H.termFromId}});Object.defineProperty(j,"termToId",{enumerable:!0,get:function(){return H.termToId}});var jc=pr(Ls()),Uc=pr(Ps()),Hc=pr(Cs()),Wc=pr(qc()),Gc=pr($c()),Kc=pr(Fc()),Qc=Yc(kn());j.Util=Qc;var H=Yc(zt());function Vc(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Vc=function(n){return n?r:e})(t)}function Yc(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=Vc(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function pr(t){return t&&t.__esModule?t:{default:t}}var n0={Lexer:jc.default,Parser:Uc.default,Writer:Hc.default,Store:Wc.default,StreamParser:Gc.default,StreamWriter:Kc.default,Util:Qc,DataFactory:H.default,Term:H.Term,NamedNode:H.NamedNode,Literal:H.Literal,BlankNode:H.BlankNode,Variable:H.Variable,DefaultGraph:H.DefaultGraph,Quad:H.Quad,Triple:H.Triple,termFromId:H.termFromId,termToId:H.termToId};j.default=n0});var zo=A(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.defaultConfigData=ne.ENV_HASH_ALGORITHM=ne.ENV_COMPLEXITY=ne.AVAILABLE_HASH_ALGORITHMS=ne.HASH_ALGORITHM=ne.DEFAULT_MAXIMUM_COMPLEXITY=void 0;ne.DEFAULT_MAXIMUM_COMPLEXITY=50;ne.HASH_ALGORITHM="sha256";ne.AVAILABLE_HASH_ALGORITHMS={sha1:"SHA-1",sha256:"SHA-256",sha384:"SHA-384",sha512:"SHA-512","sha-1":"SHA-1","sha-256":"SHA-256","sha-384":"SHA-384","sha-512":"SHA-512"};ne.ENV_COMPLEXITY="c14n_complexity";ne.ENV_HASH_ALGORITHM="c14n_hash";function i0(){return{c14n_complexity:ne.DEFAULT_MAXIMUM_COMPLEXITY,c14n_hash:ne.HASH_ALGORITHM}}ne.defaultConfigData=i0});var pt=A(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.BnodeSet=Y.parseNquads=Y.hashDataset=Y.quadsToNquads=Y.quadToNquad=Y.hashNquads=Y.concatNquads=Y.computeHash=Y.Constants=void 0;var Jo=Zr(),s0=zo(),zc;(function(t){t.BNODE_PREFIX="c14n"})(zc||(Y.Constants=zc={}));async function Jc(t,e){let n=new TextEncoder().encode(e),i=await crypto.subtle.digest(s0.AVAILABLE_HASH_ALGORITHMS[t.hash_algorithm],n);return Array.from(new Uint8Array(i)).map(a=>a.toString(16).padStart(2,"0")).join("")}Y.computeHash=Jc;function Xc(t){return t.map(e=>e.endsWith(`
`)?e:`${e}
`).join("")}Y.concatNquads=Xc;async function Zc(t,e){return Jc(t,Xc(e))}Y.hashNquads=Zc;function ed(t){let e=o0.quadToString(t.subject,t.predicate,t.object,t.graph);return e.endsWith("  .")?e.replace(/  .$/," ."):e}Y.quadToNquad=ed;var o0=new Jo.Writer;function td(t,e=!0){let r=[];for(let n of t)r.push(ed(n));return e&&r.sort(),r}Y.quadsToNquads=td;async function a0(t,e,r=!0){let n=td(e,r);return Zc(t,n)}Y.hashDataset=a0;function l0(t){let r=new Jo.Parser({blankNodePrefix:""}).parse(t);return new Jo.Store(r)}Y.parseNquads=l0;var Xo=class{index;constructor(){this.index=new Map}get size(){return this.index.size}add(e){let r=e.value;return this.index.has(r)||this.index.set(r,e),this}values(){return new Set(this.index.values())}keys(){return this.values()}[Symbol.iterator](){return this.index.values()}};Y.BnodeSet=Xo});var ea=A(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.IDIssuer=void 0;var u0=pt(),Zo=class t{static _IDIssuerID=1234;_id;_identifier_prefix;_identifier_counter;_issued_identifiers_map;constructor(e=u0.Constants.BNODE_PREFIX){this._id=t._IDIssuerID++,this._identifier_prefix=e,this._identifier_counter=0,this._issued_identifiers_map=new Map}get issued_identifier_map(){return this._issued_identifiers_map}issueID(e){let r=this._issued_identifiers_map.get(e);if(r!==void 0)return r;{let n=`${this._identifier_prefix}${this._identifier_counter}`;return this._issued_identifiers_map.set(e,n),this._identifier_counter++,n}}map(e){if(this.isSet(e))return this._issued_identifiers_map.get(e)}isSet(e){return this._issued_identifiers_map.get(e)!==void 0}copy(){let e=new t(this._identifier_prefix);return e._identifier_counter=this._identifier_counter,e._issued_identifiers_map=new Map(this._issued_identifiers_map),e}*[Symbol.iterator](){for(let[e,r]of this._issued_identifiers_map)yield[e,r]}toLogItem(){return{"issuer ID":`${this._id}`,prefix:this._identifier_prefix,counter:`${this._identifier_counter}`,mappings:this._issued_identifiers_map}}};Li.IDIssuer=Zo});var ta=A(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.computeFirstDegreeHash=void 0;var rd=pt();async function f0(t,e){t.logger.push("h1dg"),t.logger.info("h1dg.1","Entering Hash First Degree Quads function (4.6.3)",{identifier:e});let r=[];t.bnode_to_quads[e].forEach(i=>{let s=a=>a.termType==="BlankNode"?a.value===e?t.dataFactory.blankNode("a"):t.dataFactory.blankNode("z"):a,o=t.dataFactory.quad(s(i.subject),i.predicate,s(i.object),s(i.graph));r.push((0,rd.quadToNquad)(o))}),r.sort();let n=await(0,rd.hashNquads)(t,r);return t.logger.info("h1dg.5","Leaving Hash First Degree Quads function (4.6.3).",{identifier:e,quads:r,hash:n}),t.logger.pop(),n}Oi.computeFirstDegreeHash=f0});var ra=A((NS,nd)=>{nd.exports=c0;function c0(t){var e=[],r=t.length;return t.forEach(function(n,i){for(var s=0,o=0;o<r;o++)if(e[o]==null&&++s===n+1){e[o]=i;return}}),e}});var sd=A((TS,id)=>{id.exports=d0;function*d0(t){for(var e=[],r=0;r<t;r++)e.push(0);do yield e;while(h0(e,t))}function h0(t,e){for(var r=0;r<e-1;){if(t[r]<e-r-1)return t[r]++,!0;t[r]=0,r++}return!1}});var Ri=A((vS,od)=>{od.exports=p0;function p0(t,e,r){arguments.length===1&&(e=t,t=0),t=+t||0,e=+e||0,r=+r||1;for(var n=[],i=r>0;!(i&&t>=e||!i&&t<=e);)n.push(t),t=t+r;return n}});var ia=A((LS,na)=>{var g0=ra(),m0=sd(),_0=Ri();na.exports=ad;na.exports._permutation=b0;function ad(t){return Array.isArray(t)?ld(t):y0.apply(null,arguments)}function*y0(){var t=_0.apply(null,arguments);yield*ld(t)}function b0(){var t=ad.apply(null,arguments),e=[];for(var r of t)e.push(r);return e}function*ld(t){var e=t.length;if(e<2)return t;for(var r of m0(e))yield g0(r).map(function(n){return t[n]})}});var sa=A((OS,fd)=>{var w0=ra(),S0=Ri();fd.exports=E0;function E0(t,e){return Array.isArray(t)?ud(t):x0.apply(null,arguments)}function x0(){var t=S0.apply(null,arguments);return ud(t)}function ud(t){var e=t.length;if(!e)return[];var r=I0(t.length);return w0(r).map(function(n){return t[n]})}function I0(t){for(var e=[];t>1;)e.push(Math.floor(t*Math.random())),t--;return e.push(0),e}});var dd=A((RS,cd)=>{var A0=sa();cd.exports=N0;function N0(t){var e=A0(t.length).map(function(r){return t[r]});return t.forEach(function(r,n){t[n]=e[n]}),e}});var hd=A((kS,gr)=>{gr.exports=ia();gr.exports.range=Ri();gr.exports.random=sa();gr.exports.shuffle=dd();gr.exports.permutation=ia()});var gd=A(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.computeNDegreeHash=void 0;var ki=pt(),T0=ta(),v0=hd();async function L0(t,e,r,n,i){t.logger.push("hrbn"),t.logger.info("hrbn.1","Entering Hash Related Blank Node function (4.7.3)",{related:e,quad:(0,ki.quadToNquad)(r)});let o=await(async()=>t.canonical_issuer.isSet(e)?`_:${t.canonical_issuer.issueID(e)}`:n.isSet(e)?`_:${n.issueID(e)}`:(0,T0.computeFirstDegreeHash)(t,e))(),a=i;i!=="g"&&(a=`${a}<${r.predicate.value}>`),a=`${a}${o}`;let l=await(0,ki.computeHash)(t,a);return t.logger.debug("hrbn.5","Leaving Hash Related Blank Node function (4.7.3 (4))",{"input to hash":a,hash:l}),t.logger.pop(),l}async function pd(t,e,r){if(t.current_n_degree_call+=1,t.current_n_degree_call>t.maximum_n_degree_call){let o=`Maximum number of to "computeNDegreeHash" has been reached. It must stay below ${t.maximum_n_degree_call}.`;throw new RangeError(o)}t.logger.push("hndq"),t.logger.info("hndq.1",`Entering Hash N-Degree Quads function (4.8.3), with a recursion level of ${t.current_n_degree_call}.`,{identifier:e,issuer:t.canonical_issuer.toLogItem()});let n={};{t.logger.push("hndq.3");for(let o of t.bnode_to_quads[e]){t.logger.push("hndq.3.1","",{quad:(0,ki.quadToNquad)(o)});let a=async(l,u)=>{if(t.logger.push("hndq.3.1.1","",{term:l.value}),l.termType==="BlankNode"&&l.value!==e){let c=await L0(t,l.value,o,r,u);n[c]===void 0?n[c]=[l.value]:n[c].push(l.value)}t.logger.pop()};await a(o.subject,"s"),await a(o.object,"o"),await a(o.graph,"g"),t.logger.pop()}t.logger.debug("hndq.3.extra","Hash N-Degree Quads function (4.8.3 (3))",{"Hash to bnodes":n}),t.logger.pop()}let i="";{t.logger.push("hndq.5");let o=Object.keys(n).sort();for(let a of o){t.logger.info("hndq.5.1","Hash N-Degree Quads function (4.8.3 (5)), entering loop",{hash:a,"data to hash":i}),i=`${i}${a}`;let l="",u;t.logger.push("hndq.5.4");let c=n[a].length===1?[n[a]]:Array.from(v0(n[a]));e:for(let f of c){t.logger.info("hndq.5.4.1","Hash N-Degree Quads function (4.8.3 (5.4)), entering loop",{p:f,"chosen path":l});let d=r.copy(),h="",p=[];t.logger.push("hndq.5.4.4");for(let g of f)if(t.logger.info("hndq.5.4.4.1","Hash N-Degree Quads function (4.8.3 (5.4.4)), entering loop",{related:g,path:h}),t.canonical_issuer.isSet(g)?h=`${h}_:${t.canonical_issuer.issueID(g)}`:(d.isSet(g)||p.push(g),h=`${h}_:${d.issueID(g)}`),l.length>0&&h.length>=l.length&&h>l){t.logger.pop();continue e}t.logger.pop(),t.logger.debug("hndq.5.4.5.extra","Hash N-Degree Quads function (4.8.3 (5.4.5)), before possible recursion.",{"recursion list":p,path:h}),p.length!==0&&t.logger.push("hndq.5.4.5.");for(let g of p){let m=await pd(t,g,d);if(h=`${h}_:${d.issueID(g)}`,h=`${h}<${m.hash}>`,d=m.issuer,t.logger.info("hndq.5.4.5.4","Hash N-Degree Quads function (4.8.3 (5.4.5.4)), combine result of recursion.",{path:h,"issuer copy":d.toLogItem()}),l.length>0&&h.length>=l.length&&h>l)continue e}p.length!==0&&t.logger.pop(),(l.length===0||h<l)&&(l=h,u=d)}t.logger.pop(),i=`${i}${l}`,t.logger.info("hndq.5.5","Hash N-Degree Quads function (4.8.3 (5.5). End of current loop with Hn hashes",{"chosen path":l,"data to hash":i}),r=u}t.logger.pop()}let s={hash:await(0,ki.computeHash)(t,i),issuer:r};return t.logger.info("hndq.6","Leaving Hash N-Degree Quads function (4.8.3).",{hash:s.hash,issuer:s.issuer.toLogItem()}),t.logger.pop(),s}Pi.computeNDegreeHash=pd});function P(t){if(t&&typeof t=="object")switch(t[oe]){case Ne:case rt:return!0}return!1}function k(t){if(t&&typeof t=="object")switch(t[oe]){case Mi:case Ne:case be:case rt:return!0}return!1}var Mi,Ci,Ne,oa,be,rt,oe,he,Te,pe,L,T,ge,md,B=x(()=>{Mi=Symbol.for("yaml.alias"),Ci=Symbol.for("yaml.document"),Ne=Symbol.for("yaml.map"),oa=Symbol.for("yaml.pair"),be=Symbol.for("yaml.scalar"),rt=Symbol.for("yaml.seq"),oe=Symbol.for("yaml.node.type"),he=t=>!!t&&typeof t=="object"&&t[oe]===Mi,Te=t=>!!t&&typeof t=="object"&&t[oe]===Ci,pe=t=>!!t&&typeof t=="object"&&t[oe]===Ne,L=t=>!!t&&typeof t=="object"&&t[oe]===oa,T=t=>!!t&&typeof t=="object"&&t[oe]===be,ge=t=>!!t&&typeof t=="object"&&t[oe]===rt;md=t=>(T(t)||P(t))&&!!t.anchor});function me(t,e){let r=yd(e);Te(t)?mr(null,t.contents,r,Object.freeze([t]))===We&&(t.contents=null):mr(null,t,r,Object.freeze([]))}function mr(t,e,r,n){let i=bd(t,e,r,n);if(k(i)||L(i))return wd(t,n,i),mr(t,i,r,n);if(typeof i!="symbol"){if(P(e)){n=Object.freeze(n.concat(e));for(let s=0;s<e.items.length;++s){let o=mr(s,e.items[s],r,n);if(typeof o=="number")s=o-1;else{if(o===ue)return ue;o===We&&(e.items.splice(s,1),s-=1)}}}else if(L(e)){n=Object.freeze(n.concat(e));let s=mr("key",e.key,r,n);if(s===ue)return ue;s===We&&(e.key=null);let o=mr("value",e.value,r,n);if(o===ue)return ue;o===We&&(e.value=null)}}return i}async function yr(t,e){let r=yd(e);Te(t)?await _r(null,t.contents,r,Object.freeze([t]))===We&&(t.contents=null):await _r(null,t,r,Object.freeze([]))}async function _r(t,e,r,n){let i=await bd(t,e,r,n);if(k(i)||L(i))return wd(t,n,i),_r(t,i,r,n);if(typeof i!="symbol"){if(P(e)){n=Object.freeze(n.concat(e));for(let s=0;s<e.items.length;++s){let o=await _r(s,e.items[s],r,n);if(typeof o=="number")s=o-1;else{if(o===ue)return ue;o===We&&(e.items.splice(s,1),s-=1)}}}else if(L(e)){n=Object.freeze(n.concat(e));let s=await _r("key",e.key,r,n);if(s===ue)return ue;s===We&&(e.key=null);let o=await _r("value",e.value,r,n);if(o===ue)return ue;o===We&&(e.value=null)}}return i}function yd(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function bd(t,e,r,n){if(typeof r=="function")return r(t,e,n);if(pe(e))return r.Map?.(t,e,n);if(ge(e))return r.Seq?.(t,e,n);if(L(e))return r.Pair?.(t,e,n);if(T(e))return r.Scalar?.(t,e,n);if(he(e))return r.Alias?.(t,e,n)}function wd(t,e,r){let n=e[e.length-1];if(P(n))n.items[t]=r;else if(L(n))t==="key"?n.key=r:n.value=r;else if(Te(n))n.contents=r;else{let i=he(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}var ue,_d,We,en=x(()=>{B();ue=Symbol("break visit"),_d=Symbol("skip children"),We=Symbol("remove node");me.BREAK=ue;me.SKIP=_d;me.REMOVE=We;yr.BREAK=ue;yr.SKIP=_d;yr.REMOVE=We});var O0,R0,Ge,aa=x(()=>{B();en();O0={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},R0=t=>t.replace(/[!,[\]{}]/g,e=>O0[e]),Ge=class t{constructor(e,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},t.defaultYaml,e),this.tags=Object.assign({},t.defaultTags,r)}clone(){let e=new t(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new t(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:t.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},t.defaultTags);break}return e}add(e,r){this.atNextDocument&&(this.yaml={explicit:t.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},t.defaultTags),this.atNextDocument=!1);let n=e.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[s,o]=n;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;let[s]=n;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let o=/^\d+\.\d+$/.test(s);return r(6,`Unsupported YAML version ${s}`,o),!1}}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(e,r){if(e==="!")return"!";if(e[0]!=="!")return r(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(r(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&r("Verbatim tags must end with a >"),o)}let[,n,i]=e.match(/^(.*!)([^!]*)$/);i||r(`The ${e} tag has no suffix`);let s=this.tags[n];return s?s+decodeURIComponent(i):n==="!"?e:(r(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[r,n]of Object.entries(this.tags))if(e.startsWith(n))return r+R0(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),i;if(e&&n.length>0&&k(e.contents)){let s={};me(e.contents,(o,a)=>{k(a)&&a.tag&&(s[a.tag]=!0)}),i=Object.keys(s)}else i=[];for(let[s,o]of n)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&r.push(`%TAG ${s} ${o}`);return r.join(`
`)}};Ge.defaultYaml={explicit:!1,version:"1.2"};Ge.defaultTags={"!!":"tag:yaml.org,2002:"}});function Bi(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(r)}return!0}function la(t){let e=new Set;return me(t,{Value(r,n){n.anchor&&e.add(n.anchor)}}),e}function ua(t,e){for(let r=1;;++r){let n=`${t}${r}`;if(!e.has(n))return n}}function Sd(t,e){let r=[],n=new Map,i=null;return{onAnchor:s=>{r.push(s),i||(i=la(t));let o=ua(e,i);return i.add(o),o},setAnchors:()=>{for(let s of r){let o=n.get(s);if(typeof o=="object"&&o.anchor&&(T(o.node)||P(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:n}}var Di=x(()=>{B();en()});function gt(t,e,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,s=n.length;i<s;++i){let o=n[i],a=gt(t,n,String(i),o);a===void 0?delete n[i]:a!==o&&(n[i]=a)}else if(n instanceof Map)for(let i of Array.from(n.keys())){let s=n.get(i),o=gt(t,n,i,s);o===void 0?n.delete(i):o!==s&&n.set(i,o)}else if(n instanceof Set)for(let i of Array.from(n)){let s=gt(t,n,i,i);s===void 0?n.delete(i):s!==i&&(n.delete(i),n.add(s))}else for(let[i,s]of Object.entries(n)){let o=gt(t,n,i,s);o===void 0?delete n[i]:o!==s&&(n[i]=o)}return t.call(e,r,n)}var fa=x(()=>{});function X(t,e,r){if(Array.isArray(t))return t.map((n,i)=>X(n,String(i),r));if(t&&typeof t.toJSON=="function"){if(!r||!md(t))return t.toJSON(e,r);let n={aliasCount:0,count:1,res:void 0};r.anchors.set(t,n),r.onCreate=s=>{n.res=s,delete r.onCreate};let i=t.toJSON(e,r);return r.onCreate&&r.onCreate(i),i}return typeof t=="bigint"&&!r?.keep?Number(t):t}var mt=x(()=>{B()});var _t,qi=x(()=>{fa();B();mt();_t=class{constructor(e){Object.defineProperty(this,oe,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:s}={}){if(!Te(e))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:e,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=X(this,"",o);if(typeof i=="function")for(let{count:l,res:u}of o.anchors.values())i(u,l);return typeof s=="function"?gt(s,{"":a},"",a):a}}});function $i(t,e,r){if(he(e)){let n=e.resolve(t),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(P(e)){let n=0;for(let i of e.items){let s=$i(t,i,r);s>n&&(n=s)}return n}else if(L(e)){let n=$i(t,e.key,r),i=$i(t,e.value,r);return Math.max(n,i)}return 1}var ve,tn=x(()=>{Di();en();B();qi();mt();ve=class extends _t{constructor(e){super(Mi),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let r;return me(e,{Node:(n,i)=>{if(i===this)return me.BREAK;i.anchor===this.source&&(r=i)}}),r}toJSON(e,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:s}=r,o=this.resolve(i);if(!o){let l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=n.get(o);if(a||(X(o,null,r),a=n.get(o)),!a||a.res===void 0){let l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=$i(i,o,n)),a.count*a.aliasCount>s)){let l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,r,n){let i=`*${this.source}`;if(e){if(Bi(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${i} `}return i}}});var Fi,I,z=x(()=>{B();qi();mt();Fi=t=>!t||typeof t!="function"&&typeof t!="object",I=class extends _t{constructor(e){super(be),this.value=e}toJSON(e,r){return r?.keep?this.value:X(this.value,e,r)}toString(){return String(this.value)}};I.BLOCK_FOLDED="BLOCK_FOLDED";I.BLOCK_LITERAL="BLOCK_LITERAL";I.PLAIN="PLAIN";I.QUOTE_DOUBLE="QUOTE_DOUBLE";I.QUOTE_SINGLE="QUOTE_SINGLE"});function P0(t,e,r){if(e){let n=r.filter(s=>s.tag===e),i=n.find(s=>!s.format)??n[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return r.find(n=>n.identify?.(t)&&!n.format)}function nt(t,e,r){if(Te(t)&&(t=t.contents),k(t))return t;if(L(t)){let f=r.schema[Ne].createNode?.(r.schema,null,r);return f.items.push(t),f}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:n,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=r,l;if(n&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor||(l.anchor=i(t)),new ve(l.anchor);l={anchor:null,node:null},a.set(t,l)}e?.startsWith("!!")&&(e=k0+e.slice(2));let u=P0(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let f=new I(t);return l&&(l.node=f),f}u=t instanceof Map?o[Ne]:Symbol.iterator in Object(t)?o[rt]:o[Ne]}s&&(s(u),delete r.onTagObj);let c=u?.createNode?u.createNode(r.schema,t,r):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(r.schema,t,r):new I(t);return e?c.tag=e:u.default||(c.tag=u.tag),l&&(l.node=c),c}var k0,rn=x(()=>{tn();B();z();k0="tag:yaml.org,2002:"});function nn(t,e,r){let n=r;for(let i=e.length-1;i>=0;--i){let s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let o=[];o[s]=n,n=o}else n=new Map([[s,n]])}return nt(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}var br,it,sn=x(()=>{rn();B();qi();br=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,it=class extends _t{constructor(e,r){super(e),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(e){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(r.schema=e),r.items=r.items.map(n=>k(n)||L(n)?n.clone(e):n),this.range&&(r.range=this.range.slice()),r}addIn(e,r){if(br(e))this.add(r);else{let[n,...i]=e,s=this.get(n,!0);if(P(s))s.addIn(i,r);else if(s===void 0&&this.schema)this.set(n,nn(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(e){let[r,...n]=e;if(n.length===0)return this.delete(r);let i=this.get(r,!0);if(P(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(e,r){let[n,...i]=e,s=this.get(n,!0);return i.length===0?!r&&T(s)?s.value:s:P(s)?s.getIn(i,r):void 0}hasAllNullValues(e){return this.items.every(r=>{if(!L(r))return!1;let n=r.value;return n==null||e&&T(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){let[r,...n]=e;if(n.length===0)return this.has(r);let i=this.get(r,!0);return P(i)?i.hasIn(n):!1}setIn(e,r){let[n,...i]=e;if(i.length===0)this.set(n,r);else{let s=this.get(n,!0);if(P(s))s.setIn(i,r);else if(s===void 0&&this.schema)this.set(n,nn(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}};it.maxFlowStringSingleLineLength=60});function we(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}var Ed,Le,on=x(()=>{Ed=t=>t.replace(/^(?!$)(?: $)?/gm,"#");Le=(t,e,r)=>t.endsWith(`
`)?we(r,e):r.includes(`
`)?`
`+we(r,e):(t.endsWith(" ")?"":" ")+r});function ln(t,e,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return t;let l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;let u=[],c={},f=i-e.length;typeof n=="number"&&(n>i-Math.max(2,s)?u.push(0):f=i-n);let d,h,p=!1,g=-1,m=-1,b=-1;r===ji&&(g=xd(t,g),g!==-1&&(f=g+l));for(let S;S=t[g+=1];){if(r===an&&S==="\\"){switch(m=g,t[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}b=g}if(S===`
`)r===ji&&(g=xd(t,g)),f=g+l,d=void 0;else{if(S===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){let E=t[g+1];E&&E!==" "&&E!==`
`&&E!=="	"&&(d=g)}if(g>=f)if(d)u.push(d),f=d+l,d=void 0;else if(r===an){for(;h===" "||h==="	";)h=S,S=t[g+=1],p=!0;let E=g>b+1?g-2:m-1;if(c[E])return t;u.push(E),c[E]=!0,f=E+l,d=void 0}else p=!0}h=S}if(p&&a&&a(),u.length===0)return t;o&&o();let y=t.slice(0,u[0]);for(let S=0;S<u.length;++S){let E=u[S],N=u[S+1]||t.length;E===0?y=`
${e}${t.slice(0,N)}`:(r===an&&c[E]&&(y+=`${t[E]}\\`),y+=`
${e}${t.slice(E+1,N)}`)}return y}function xd(t,e){let r=t[e+1];for(;r===" "||r==="	";){do r=t[e+=1];while(r&&r!==`
`);r=t[e+1]}return e}var ca,ji,an,Id=x(()=>{ca="flow",ji="block",an="quoted"});function M0(t,e,r){if(!e||e<0)return!1;let n=e-r,i=t.length;if(i<=n)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`
`){if(s-o>n)return!0;if(o=s+1,i-o<=n)return!1}return!0}function un(t,e){let r=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return r;let{implicitKey:n}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(Wi(t)?"  ":""),o="",a=0;for(let l=0,u=r[l];u;u=r[++l])if(u===" "&&r[l+1]==="\\"&&r[l+2]==="n"&&(o+=r.slice(a,l)+"\\ ",l+=1,a=l,u="\\"),u==="\\")switch(r[l+1]){case"u":{o+=r.slice(a,l);let c=r.substr(l+2,4);switch(c){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:c.substr(0,2)==="00"?o+="\\x"+c.substr(2):o+=r.substr(l,6)}l+=5,a=l+1}break;case"n":if(n||r[l+2]==='"'||r.length<i)l+=1;else{for(o+=r.slice(a,l)+`

`;r[l+2]==="\\"&&r[l+3]==="n"&&r[l+4]!=='"';)o+=`
`,l+=2;o+=s,r[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+r.slice(a):r,n?o:ln(o,s,an,Hi(e,!1))}function da(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return un(t,e);let r=e.indent||(Wi(t)?"  ":""),n="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return e.implicitKey?n:ln(n,r,ca,Hi(e,!1))}function wr(t,e){let{singleQuote:r}=e.options,n;if(r===!1)n=un;else{let i=t.includes('"'),s=t.includes("'");i&&!s?n=da:s&&!i?n=un:n=r?da:un}return n(t,e)}function Ui({comment:t,type:e,value:r},n,i,s){let{blockQuote:o,commentString:a,lineWidth:l}=n.options;if(!o||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return wr(r,n);let u=n.indent||(n.forceBlockIndent||Wi(r)?"  ":""),c=o==="literal"?!0:o==="folded"||e===I.BLOCK_FOLDED?!1:e===I.BLOCK_LITERAL?!0:!M0(r,l,u.length);if(!r)return c?`|
`:`>
`;let f,d;for(d=r.length;d>0;--d){let w=r[d-1];if(w!==`
`&&w!=="	"&&w!==" ")break}let h=r.substring(d),p=h.indexOf(`
`);p===-1?f="-":r===h||p!==h.length-1?(f="+",s&&s()):f="",h&&(r=r.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(ha,`$&${u}`));let g=!1,m,b=-1;for(m=0;m<r.length;++m){let w=r[m];if(w===" ")g=!0;else if(w===`
`)b=m;else break}let y=r.substring(0,b<m?b+1:m);y&&(r=r.substring(y.length),y=y.replace(/\n+/g,`$&${u}`));let E=(c?"|":">")+(g?u?"2":"1":"")+f;if(t&&(E+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),c)return r=r.replace(/\n+/g,`$&${u}`),`${E}
${u}${y}${r}${h}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let N=ln(`${y}${r}${h}`,u,ji,Hi(n,!0));return`${E}
${u}${N}`}function C0(t,e,r,n){let{type:i,value:s}=t,{actualString:o,implicitKey:a,indent:l,indentStep:u,inFlow:c}=e;if(a&&/[\n[\]{},]/.test(s)||c&&/[[\]{},]/.test(s))return wr(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||c||!s.includes(`
`)?wr(s,e):Ui(t,e,r,n);if(!a&&!c&&i!==I.PLAIN&&s.includes(`
`))return Ui(t,e,r,n);if(Wi(s)){if(l==="")return e.forceBlockIndent=!0,Ui(t,e,r,n);if(a&&l===u)return wr(s,e)}let f=s.replace(/\n+/g,`$&
${l}`);if(o){let d=g=>g.default&&g.tag!=="tag:yaml.org,2002:str"&&g.test?.test(f),{compat:h,tags:p}=e.doc.schema;if(p.some(d)||h?.some(d))return wr(s,e)}return a?f:ln(f,l,ca,Hi(e,!1))}function st(t,e,r,n){let{implicitKey:i,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:a}=t;a!==I.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=I.QUOTE_DOUBLE);let l=c=>{switch(c){case I.BLOCK_FOLDED:case I.BLOCK_LITERAL:return i||s?wr(o.value,e):Ui(o,e,r,n);case I.QUOTE_DOUBLE:return un(o.value,e);case I.QUOTE_SINGLE:return da(o.value,e);case I.PLAIN:return C0(o,e,r,n);default:return null}},u=l(a);if(u===null){let{defaultKeyType:c,defaultStringType:f}=e.options,d=i&&c||f;if(u=l(d),u===null)throw new Error(`Unsupported default string type ${d}`)}return u}var Hi,Wi,ha,fn=x(()=>{z();Id();Hi=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Wi=t=>/^(%|---|\.\.\.)/m.test(t);try{ha=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{ha=/\n+(?!\n|$)/g}});function Gi(t,e){let r=Object.assign({blockQuote:!0,commentString:Ed,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:t,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function B0(t,e){if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)??i[0]}let r,n;if(T(e)){n=e.value;let i=t.filter(s=>s.identify?.(n));r=i.find(s=>s.format===e.format)??i.find(s=>!s.format)}else n=e,r=t.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){let i=n?.constructor?.name??typeof n;throw new Error(`Tag not resolved for ${i} value`)}return r}function D0(t,e,{anchors:r,doc:n}){if(!n.directives)return"";let i=[],s=(T(t)||P(t))&&t.anchor;s&&Bi(s)&&(r.add(s),i.push(`&${s}`));let o=t.tag?t.tag:e.default?null:e.tag;return o&&i.push(n.directives.tagString(o)),i.join(" ")}function ot(t,e,r,n){if(L(t))return t.toString(e,r,n);if(he(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i,s=k(t)?t:e.doc.createNode(t,{onTagObj:l=>i=l});i||(i=B0(e.doc.schema.tags,s));let o=D0(s,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);let a=typeof i.stringify=="function"?i.stringify(s,e,r,n):T(s)?st(s,e,r,n):s.toString(e,r,n);return o?T(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}var cn=x(()=>{Di();B();on();fn()});function Ad({key:t,value:e},r,n,i){let{allNullValues:s,doc:o,indent:a,indentStep:l,options:{commentString:u,indentSeq:c,simpleKeys:f}}=r,d=k(t)&&t.comment||null;if(f){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(P(t)){let R="With simple keys, collection cannot be used as a key value";throw new Error(R)}}let h=!f&&(!t||d&&e==null&&!r.inFlow||P(t)||(T(t)?t.type===I.BLOCK_FOLDED||t.type===I.BLOCK_LITERAL:typeof t=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!h&&(f||!s),indent:a+l});let p=!1,g=!1,m=ot(t,r,()=>p=!0,()=>g=!0);if(!h&&!r.inFlow&&m.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(r.inFlow){if(s||e==null)return p&&n&&n(),m===""?"?":h?`? ${m}`:m}else if(s&&!f||e==null&&h)return m=`? ${m}`,d&&!p?m+=Le(m,r.indent,u(d)):g&&i&&i(),m;p&&(d=null),h?(d&&(m+=Le(m,r.indent,u(d))),m=`? ${m}
${a}:`):(m=`${m}:`,d&&(m+=Le(m,r.indent,u(d))));let b,y,S;k(e)?(b=!!e.spaceBefore,y=e.commentBefore,S=e.comment):(b=!1,y=null,S=null,e&&typeof e=="object"&&(e=o.createNode(e))),r.implicitKey=!1,!h&&!d&&T(e)&&(r.indentAtStart=m.length+1),g=!1,!c&&l.length>=2&&!r.inFlow&&!h&&ge(e)&&!e.flow&&!e.tag&&!e.anchor&&(r.indent=r.indent.substring(2));let E=!1,N=ot(e,r,()=>E=!0,()=>g=!0),w=" ";if(d||b||y){if(w=b?`
`:"",y){let R=u(y);w+=`
${we(R,r.indent)}`}N===""&&!r.inFlow?w===`
`&&(w=`

`):w+=`
${r.indent}`}else if(!h&&P(e)){let R=N[0],M=N.indexOf(`
`),Q=M!==-1,Ve=r.inFlow??e.flow??e.items.length===0;if(Q||!Ve){let ce=!1;if(Q&&(R==="&"||R==="!")){let Z=N.indexOf(" ");R==="&"&&Z!==-1&&Z<M&&N[Z+1]==="!"&&(Z=N.indexOf(" ",Z+1)),(Z===-1||M<Z)&&(ce=!0)}ce||(w=`
${r.indent}`)}}else(N===""||N[0]===`
`)&&(w="");return m+=w+N,r.inFlow?E&&n&&n():S&&!E?m+=Le(m,r.indent,u(S)):g&&i&&i(),m}var Nd=x(()=>{B();z();cn();on()});function Ki(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}var pa=x(()=>{});function Qi(t,e,{key:r,value:n}){if(t?.doc.schema.merge&&q0(r))if(n=he(n)?n.resolve(t.doc):n,ge(n))for(let i of n.items)ga(t,e,i);else if(Array.isArray(n))for(let i of n)ga(t,e,i);else ga(t,e,n);else{let i=X(r,"",t);if(e instanceof Map)e.set(i,X(n,i,t));else if(e instanceof Set)e.add(i);else{let s=$0(r,i,t),o=X(n,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}function ga(t,e,r){let n=t&&he(r)?r.resolve(t.doc):r;if(!pe(n))throw new Error("Merge sources must be maps or map aliases");let i=n.toJSON(null,t,Map);for(let[s,o]of i)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function $0(t,e,r){if(e===null)return"";if(typeof e!="object")return String(e);if(k(t)&&r&&r.doc){let n=Gi(r.doc,{});n.anchors=new Set;for(let s of r.anchors.keys())n.anchors.add(s.anchor);n.inFlow=!0,n.inStringifyKey=!0;let i=t.toString(n);if(!r.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),Ki(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(e)}var Td,q0,ma=x(()=>{pa();cn();B();z();mt();Td="<<";q0=t=>t===Td||T(t)&&t.value===Td&&(!t.type||t.type===I.PLAIN)});function Sr(t,e,r){let n=nt(t,void 0,r),i=nt(e,void 0,r);return new $(n,i)}var $,yt=x(()=>{rn();Nd();ma();B();$=class t{constructor(e,r=null){Object.defineProperty(this,oe,{value:oa}),this.key=e,this.value=r}clone(e){let{key:r,value:n}=this;return k(r)&&(r=r.clone(e)),k(n)&&(n=n.clone(e)),new t(r,n)}toJSON(e,r){let n=r?.mapAsMap?new Map:{};return Qi(r,n,this)}toString(e,r,n){return e?.doc?Ad(this,e,r,n):JSON.stringify(this)}}});function Yi(t,e,r){return(e.inFlow??t.flow?j0:F0)(t,e,r)}function F0({comment:t,items:e},r,{blockItemPrefix:n,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){let{indent:l,options:{commentString:u}}=r,c=Object.assign({},r,{indent:s,type:null}),f=!1,d=[];for(let p=0;p<e.length;++p){let g=e[p],m=null;if(k(g))!f&&g.spaceBefore&&d.push(""),Vi(r,d,g.commentBefore,f),g.comment&&(m=g.comment);else if(L(g)){let y=k(g.key)?g.key:null;y&&(!f&&y.spaceBefore&&d.push(""),Vi(r,d,y.commentBefore,f))}f=!1;let b=ot(g,c,()=>m=null,()=>f=!0);m&&(b+=Le(b,s,u(m))),f&&m&&(f=!1),d.push(n+b)}let h;if(d.length===0)h=i.start+i.end;else{h=d[0];for(let p=1;p<d.length;++p){let g=d[p];h+=g?`
${l}${g}`:`
`}}return t?(h+=`
`+we(u(t),l),a&&a()):f&&o&&o(),h}function j0({comment:t,items:e},r,{flowChars:n,itemIndent:i,onComment:s}){let{indent:o,indentStep:a,flowCollectionPadding:l,options:{commentString:u}}=r;i+=a;let c=Object.assign({},r,{indent:i,inFlow:!0,type:null}),f=!1,d=0,h=[];for(let b=0;b<e.length;++b){let y=e[b],S=null;if(k(y))y.spaceBefore&&h.push(""),Vi(r,h,y.commentBefore,!1),y.comment&&(S=y.comment);else if(L(y)){let N=k(y.key)?y.key:null;N&&(N.spaceBefore&&h.push(""),Vi(r,h,N.commentBefore,!1),N.comment&&(f=!0));let w=k(y.value)?y.value:null;w?(w.comment&&(S=w.comment),w.commentBefore&&(f=!0)):y.value==null&&N&&N.comment&&(S=N.comment)}S&&(f=!0);let E=ot(y,c,()=>S=null);b<e.length-1&&(E+=","),S&&(E+=Le(E,i,u(S))),!f&&(h.length>d||E.includes(`
`))&&(f=!0),h.push(E),d=h.length}let p,{start:g,end:m}=n;if(h.length===0)p=g+m;else if(f||(f=h.reduce((y,S)=>y+S.length+2,2)>it.maxFlowStringSingleLineLength),f){p=g;for(let b of h)p+=b?`
${a}${o}${b}`:`
`;p+=`
${o}${m}`}else p=`${g}${l}${h.join(" ")}${l}${m}`;return t&&(p+=Le(p,o,u(t)),s&&s()),p}function Vi({indent:t,options:{commentString:e}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let s=we(e(n),t);r.push(s.trimStart())}}var _a=x(()=>{sn();B();cn();on()});function bt(t,e){let r=T(e)?e.value:e;for(let n of t)if(L(n)&&(n.key===e||n.key===r||T(n.key)&&n.key.value===r))return n}var U,wt=x(()=>{_a();ma();sn();B();yt();z();U=class extends it{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Ne,e),this.items=[]}static from(e,r,n){let{keepUndefined:i,replacer:s}=n,o=new this(e),a=(l,u)=>{if(typeof s=="function")u=s.call(r,l,u);else if(Array.isArray(s)&&!s.includes(l))return;(u!==void 0||i)&&o.items.push(Sr(l,u,n))};if(r instanceof Map)for(let[l,u]of r)a(l,u);else if(r&&typeof r=="object")for(let l of Object.keys(r))a(l,r[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,r){let n;L(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new $(e,e?.value):n=new $(e.key,e.value);let i=bt(this.items,n.key),s=this.schema?.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);T(i.value)&&Fi(n.value)?i.value.value=n.value:i.value=n.value}else if(s){let o=this.items.findIndex(a=>s(n,a)<0);o===-1?this.items.push(n):this.items.splice(o,0,n)}else this.items.push(n)}delete(e){let r=bt(this.items,e);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(e,r){let i=bt(this.items,e)?.value;return(!r&&T(i)?i.value:i)??void 0}has(e){return!!bt(this.items,e)}set(e,r){this.add(new $(e,r),!0)}toJSON(e,r,n){let i=n?new n:r?.mapAsMap?new Map:{};r?.onCreate&&r.onCreate(i);for(let s of this.items)Qi(r,i,s);return i}toString(e,r,n){if(!e)return JSON.stringify(this);for(let i of this.items)if(!L(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Yi(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:r})}}});var Oe,Er=x(()=>{B();wt();Oe={collection:"map",default:!0,nodeClass:U,tag:"tag:yaml.org,2002:map",resolve(t,e){return pe(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,r)=>U.from(t,e,r)}});function zi(t){let e=T(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}var te,St=x(()=>{rn();_a();sn();B();z();mt();te=class extends it{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(rt,e),this.items=[]}add(e){this.items.push(e)}delete(e){let r=zi(e);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(e,r){let n=zi(e);if(typeof n!="number")return;let i=this.items[n];return!r&&T(i)?i.value:i}has(e){let r=zi(e);return typeof r=="number"&&r<this.items.length}set(e,r){let n=zi(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);let i=this.items[n];T(i)&&Fi(r)?i.value=r:this.items[n]=r}toJSON(e,r){let n=[];r?.onCreate&&r.onCreate(n);let i=0;for(let s of this.items)n.push(X(s,String(i++),r));return n}toString(e,r,n){return e?Yi(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(e,r,n){let{replacer:i}=n,s=new this(e);if(r&&Symbol.iterator in Object(r)){let o=0;for(let a of r){if(typeof i=="function"){let l=r instanceof Set?a:String(o++);a=i.call(r,l,a)}s.items.push(nt(a,void 0,n))}}return s}}});var Re,xr=x(()=>{B();St();Re={collection:"seq",default:!0,nodeClass:te,tag:"tag:yaml.org,2002:seq",resolve(t,e){return ge(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,r)=>te.from(t,e,r)}});var Et,dn=x(()=>{fn();Et={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,r,n){return e=Object.assign({actualString:!0},e),st(t,e,r,n)}}});var jt,Ji=x(()=>{z();jt={identify:t=>t==null,createNode:()=>new I(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new I(null),stringify:({source:t},e)=>typeof t=="string"&&jt.test.test(t)?t:e.options.nullStr}});var hn,ya=x(()=>{z();hn={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new I(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},r){if(t&&hn.test.test(t)){let n=t[0]==="t"||t[0]==="T";if(e===n)return t}return e?r.options.trueStr:r.options.falseStr}}});function ie({format:t,minFractionDigits:e,tag:r,value:n}){if(typeof n=="bigint")return String(n);let i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(n);if(!t&&e&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=e-(s.length-o-1);for(;a-- >0;)s+="0"}return s}var Ir=x(()=>{});var Xi,Zi,es,ba=x(()=>{z();Ir();Xi={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ie},Zi={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():ie(t)}},es={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new I(parseFloat(t)),r=t.indexOf(".");return r!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-r-1),e},stringify:ie}});function vd(t,e,r){let{value:n}=t;return ts(n)&&n>=0?r+n.toString(e):ie(t)}var ts,wa,rs,ns,is,Sa=x(()=>{Ir();ts=t=>typeof t=="bigint"||Number.isInteger(t),wa=(t,e,r,{intAsBigInt:n})=>n?BigInt(t):parseInt(t.substring(e),r);rs={identify:t=>ts(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,r)=>wa(t,2,8,r),stringify:t=>vd(t,8,"0o")},ns={identify:ts,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,r)=>wa(t,0,10,r),stringify:ie},is={identify:t=>ts(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,r)=>wa(t,2,16,r),stringify:t=>vd(t,16,"0x")}});var Ld,Od=x(()=>{Er();Ji();xr();dn();ya();ba();Sa();Ld=[Oe,Re,Et,jt,hn,rs,ns,is,Xi,Zi,es]});function Rd(t){return typeof t=="bigint"||Number.isInteger(t)}var ss,U0,H0,kd,Pd=x(()=>{z();Er();xr();ss=({value:t})=>JSON.stringify(t),U0=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:ss},{identify:t=>t==null,createNode:()=>new I(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:ss},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:ss},{identify:Rd,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:r})=>r?BigInt(t):parseInt(t,10),stringify:({value:t})=>Rd(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:ss}],H0={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},kd=[Oe,Re].concat(U0,H0)});var pn,Ea=x(()=>{z();fn();pn={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){let r=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:r},n,i,s){let o=r,a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=I.BLOCK_LITERAL),e!==I.QUOTE_DOUBLE){let l=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),u=Math.ceil(a.length/l),c=new Array(u);for(let f=0,d=0;f<u;++f,d+=l)c[f]=a.substr(d,l);a=c.join(e===I.BLOCK_LITERAL?`
`:" ")}return st({comment:t,type:e,value:a},n,i,s)}}});function xa(t,e){if(ge(t))for(let r=0;r<t.items.length;++r){let n=t.items[r];if(!L(n)){if(pe(n)){n.items.length>1&&e("Each pair must have its own sequence indicator");let i=n.items[0]||new $(new I(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){let s=i.value??i.key;s.comment=s.comment?`${n.comment}
${s.comment}`:n.comment}n=i}t.items[r]=L(n)?n:new $(n)}}else e("Expected a sequence for this tag");return t}function Ia(t,e,r){let{replacer:n}=r,i=new te(t);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof n=="function"&&(o=n.call(e,String(s++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let u=Object.keys(o);if(u.length===1)a=u[0],l=o[a];else throw new TypeError(`Expected { key: value } tuple: ${o}`)}else a=o;i.items.push(Sr(a,l,r))}return i}var gn,os=x(()=>{B();yt();z();St();gn={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:xa,createNode:Ia}});var Ar,mn,Aa=x(()=>{B();mt();wt();St();os();Ar=class t extends te{constructor(){super(),this.add=U.prototype.add.bind(this),this.delete=U.prototype.delete.bind(this),this.get=U.prototype.get.bind(this),this.has=U.prototype.has.bind(this),this.set=U.prototype.set.bind(this),this.tag=t.tag}toJSON(e,r){if(!r)return super.toJSON(e);let n=new Map;r?.onCreate&&r.onCreate(n);for(let i of this.items){let s,o;if(L(i)?(s=X(i.key,"",r),o=X(i.value,s,r)):s=X(i,"",r),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}static from(e,r,n){let i=Ia(e,r,n),s=new this;return s.items=i.items,s}};Ar.tag="tag:yaml.org,2002:omap";mn={collection:"seq",identify:t=>t instanceof Map,nodeClass:Ar,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let r=xa(t,e),n=[];for(let{key:i}of r.items)T(i)&&(n.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new Ar,r)},createNode:(t,e,r)=>Ar.from(t,e,r)}});function Md({value:t,source:e},r){return e&&(t?Na:Ta).test.test(e)?e:t?r.options.trueStr:r.options.falseStr}var Na,Ta,Cd=x(()=>{z();Na={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new I(!0),stringify:Md},Ta={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new I(!1),stringify:Md}});var Bd,Dd,qd,$d=x(()=>{z();Ir();Bd={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ie},Dd={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():ie(t)}},qd={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new I(parseFloat(t.replace(/_/g,""))),r=t.indexOf(".");if(r!==-1){let n=t.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:ie}});function as(t,e,r,{intAsBigInt:n}){let i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),n){switch(r){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let o=BigInt(t);return i==="-"?BigInt(-1)*o:o}let s=parseInt(t,r);return i==="-"?-1*s:s}function va(t,e,r){let{value:n}=t;if(_n(n)){let i=n.toString(e);return n<0?"-"+r+i.substr(1):r+i}return ie(t)}var _n,Fd,jd,Ud,Hd,Wd=x(()=>{Ir();_n=t=>typeof t=="bigint"||Number.isInteger(t);Fd={identify:_n,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,r)=>as(t,2,2,r),stringify:t=>va(t,2,"0b")},jd={identify:_n,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,r)=>as(t,1,8,r),stringify:t=>va(t,8,"0")},Ud={identify:_n,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,r)=>as(t,0,10,r),stringify:ie},Hd={identify:_n,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,r)=>as(t,2,16,r),stringify:t=>va(t,16,"0x")}});var Nr,yn,La=x(()=>{B();yt();wt();Nr=class t extends U{constructor(e){super(e),this.tag=t.tag}add(e){let r;L(e)?r=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?r=new $(e.key,null):r=new $(e,null),bt(this.items,r.key)||this.items.push(r)}get(e,r){let n=bt(this.items,e);return!r&&L(n)?T(n.key)?n.key.value:n.key:n}set(e,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=bt(this.items,e);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new $(e))}toJSON(e,r){return super.toJSON(e,r,Set)}toString(e,r,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(e,r,n){let{replacer:i}=n,s=new this(e);if(r&&Symbol.iterator in Object(r))for(let o of r)typeof i=="function"&&(o=i.call(r,o,o)),s.items.push(Sr(o,null,n));return s}};Nr.tag="tag:yaml.org,2002:set";yn={collection:"map",identify:t=>t instanceof Set,nodeClass:Nr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,r)=>Nr.from(t,e,r),resolve(t,e){if(pe(t)){if(t.hasAllNullValues(!0))return Object.assign(new Nr,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}}});function Oa(t,e){let r=t[0],n=r==="-"||r==="+"?t.substring(1):t,i=o=>e?BigInt(o):Number(o),s=n.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return r==="-"?i(-1)*s:s}function Gd(t){let{value:e}=t,r=o=>o;if(typeof e=="bigint")r=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return ie(t);let n="";e<0&&(n="-",e*=r(-1));let i=r(60),s=[e%i];return e<60?s.unshift(0):(e=(e-s[0])/i,s.unshift(e%i),e>=60&&(e=(e-s[0])/i,s.unshift(e))),n+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var ls,us,Tr,Ra=x(()=>{Ir();ls={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:r})=>Oa(t,r),stringify:Gd},us={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Oa(t,!1),stringify:Gd},Tr={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match(Tr.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,n,i,s,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0,u=Date.UTC(r,n-1,i,s||0,o||0,a||0,l),c=e[8];if(c&&c!=="Z"){let f=Oa(c,!1);Math.abs(f)<30&&(f*=60),u-=6e4*f}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")}});var ka,Kd=x(()=>{Er();Ji();xr();dn();Ea();Cd();$d();Wd();Aa();os();La();Ra();ka=[Oe,Re,Et,jt,Na,Ta,Fd,jd,Ud,Hd,Bd,Dd,qd,pn,mn,gn,yn,ls,us,Tr]});function fs(t,e){let r=Qd.get(e);if(!r)if(Array.isArray(t))r=[];else{let n=Array.from(Qd.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${n} or define customTags array`)}if(Array.isArray(t))for(let n of t)r=r.concat(n);else typeof t=="function"&&(r=t(r.slice()));return r.map(n=>{if(typeof n!="string")return n;let i=Vd[n];if(i)return i;let s=Object.keys(Vd).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${s}`)})}var Qd,Vd,Yd,zd=x(()=>{Er();Ji();xr();dn();ya();ba();Sa();Od();Pd();Ea();Aa();os();Kd();La();Ra();Qd=new Map([["core",Ld],["failsafe",[Oe,Re,Et]],["json",kd],["yaml11",ka],["yaml-1.1",ka]]),Vd={binary:pn,bool:hn,float:es,floatExp:Zi,floatNaN:Xi,floatTime:us,int:ns,intHex:is,intOct:rs,intTime:ls,map:Oe,null:jt,omap:mn,pairs:gn,seq:Re,set:yn,timestamp:Tr},Yd={"tag:yaml.org,2002:binary":pn,"tag:yaml.org,2002:omap":mn,"tag:yaml.org,2002:pairs":gn,"tag:yaml.org,2002:set":yn,"tag:yaml.org,2002:timestamp":Tr}});var W0,Ut,Pa=x(()=>{B();Er();xr();dn();zd();W0=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Ut=class t{constructor({compat:e,customTags:r,merge:n,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?fs(e,"compat"):e?fs(null,e):null,this.merge=!!n,this.name=typeof s=="string"&&s||"core",this.knownTags=i?Yd:{},this.tags=fs(r,this.name),this.toStringOptions=a??null,Object.defineProperty(this,Ne,{value:Oe}),Object.defineProperty(this,be,{value:Et}),Object.defineProperty(this,rt,{value:Re}),this.sortMapEntries=typeof o=="function"?o:o===!0?W0:null}clone(){let e=Object.create(t.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}});function Jd(t,e){let r=[],n=e.directives===!0;if(e.directives!==!1&&t.directives){let l=t.directives.toString(t);l?(r.push(l),n=!0):t.directives.docStart&&(n=!0)}n&&r.push("---");let i=Gi(t,e),{commentString:s}=i.options;if(t.commentBefore){r.length!==1&&r.unshift("");let l=s(t.commentBefore);r.unshift(we(l,""))}let o=!1,a=null;if(t.contents){if(k(t.contents)){if(t.contents.spaceBefore&&n&&r.push(""),t.contents.commentBefore){let c=s(t.contents.commentBefore);r.push(we(c,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}let l=a?void 0:()=>o=!0,u=ot(t.contents,i,()=>a=null,l);a&&(u+=Le(u,"",s(a))),(u[0]==="|"||u[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${u}`:r.push(u)}else r.push(ot(t.contents,i));if(t.directives?.docEnd)if(t.comment){let l=s(t.comment);l.includes(`
`)?(r.push("..."),r.push(we(l,""))):r.push(`... ${l}`)}else r.push("...");else{let l=t.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&r[r.length-1]!==""&&r.push(""),r.push(we(s(l),"")))}return r.join(`
`)+`
`}var Xd=x(()=>{B();cn();on()});function vr(t){if(P(t))return!0;throw new Error("Expected a YAML collection as document contents")}var ke,bn=x(()=>{tn();sn();B();yt();mt();Pa();Xd();Di();fa();rn();aa();ke=class t{constructor(e,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,oe,{value:Ci});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=s;let{version:o}=s;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Ge({version:o}),this.setSchema(o,n),this.contents=e===void 0?null:this.createNode(e,i,n)}clone(){let e=Object.create(t.prototype,{[oe]:{value:Ci}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=k(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){vr(this.contents)&&this.contents.add(e)}addIn(e,r){vr(this.contents)&&this.contents.addIn(e,r)}createAlias(e,r){if(!e.anchor){let n=la(this);e.anchor=!r||n.has(r)?ua(r||"a",n):r}return new ve(e.anchor)}createNode(e,r,n){let i;if(typeof r=="function")e=r.call({"":e},"",e),i=r;else if(Array.isArray(r)){let m=y=>typeof y=="number"||y instanceof String||y instanceof Number,b=r.filter(m).map(String);b.length>0&&(r=r.concat(b)),i=r}else n===void 0&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:u,tag:c}=n??{},{onAnchor:f,setAnchors:d,sourceObjects:h}=Sd(this,o||"a"),p={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:h},g=nt(e,c,p);return a&&P(g)&&(g.flow=!0),d(),g}createPair(e,r,n={}){let i=this.createNode(e,null,n),s=this.createNode(r,null,n);return new $(i,s)}delete(e){return vr(this.contents)?this.contents.delete(e):!1}deleteIn(e){return br(e)?this.contents==null?!1:(this.contents=null,!0):vr(this.contents)?this.contents.deleteIn(e):!1}get(e,r){return P(this.contents)?this.contents.get(e,r):void 0}getIn(e,r){return br(e)?!r&&T(this.contents)?this.contents.value:this.contents:P(this.contents)?this.contents.getIn(e,r):void 0}has(e){return P(this.contents)?this.contents.has(e):!1}hasIn(e){return br(e)?this.contents!==void 0:P(this.contents)?this.contents.hasIn(e):!1}set(e,r){this.contents==null?this.contents=nn(this.schema,[e],r):vr(this.contents)&&this.contents.set(e,r)}setIn(e,r){br(e)?this.contents=r:this.contents==null?this.contents=nn(this.schema,Array.from(e),r):vr(this.contents)&&this.contents.setIn(e,r)}setSchema(e,r={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Ge({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Ge({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new Ut(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:s,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=X(this.contents,r??"",a);if(typeof s=="function")for(let{count:u,res:c}of a.anchors.values())s(c,u);return typeof o=="function"?gt(o,{"":l},"",l):l}toJSON(e,r){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:r})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let r=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return Jd(this,e)}}});var Ht,fe,Wt,wn,Sn=x(()=>{Ht=class extends Error{constructor(e,r,n,i){super(),this.name=e,this.code=n,this.message=i,this.pos=r}},fe=class extends Ht{constructor(e,r,n){super("YAMLParseError",e,r,n)}},Wt=class extends Ht{constructor(e,r,n){super("YAMLWarning",e,r,n)}},wn=(t,e)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>e.linePos(a));let{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let s=i-1,o=t.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){let a=Math.min(s-39,o.length-79);o="\u2026"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(o.substring(0,s))){let a=t.substring(e.lineStarts[n-2],e.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,l=r.linePos[1];l&&l.line===n&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-s)));let u=" ".repeat(s)+"^".repeat(a);r.message+=`:

${o}
${u}
`}}});function Ke(t,{flow:e,indicator:r,next:n,offset:i,onError:s,startOnNewline:o}){let a=!1,l=o,u=o,c="",f="",d=!1,h=!1,p=!1,g=null,m=null,b=null,y=null,S=null;for(let w of t)switch(p&&(w.type!=="space"&&w.type!=="newline"&&w.type!=="comma"&&s(w.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),w.type){case"space":!e&&l&&r!=="doc-start"&&w.source[0]==="	"&&s(w,"TAB_AS_INDENT","Tabs are not allowed as indentation"),u=!0;break;case"comment":{u||s(w,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let R=w.source.substring(1)||" ";c?c+=f+R:c=R,f="",l=!1;break}case"newline":l?c?c+=w.source:a=!0:f+=w.source,l=!0,d=!0,(g||m)&&(h=!0),u=!0;break;case"anchor":g&&s(w,"MULTIPLE_ANCHORS","A node can have at most one anchor"),w.source.endsWith(":")&&s(w.offset+w.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=w,S===null&&(S=w.offset),l=!1,u=!1,p=!0;break;case"tag":{m&&s(w,"MULTIPLE_TAGS","A node can have at most one tag"),m=w,S===null&&(S=w.offset),l=!1,u=!1,p=!0;break}case r:(g||m)&&s(w,"BAD_PROP_ORDER",`Anchors and tags must be after the ${w.source} indicator`),y&&s(w,"UNEXPECTED_TOKEN",`Unexpected ${w.source} in ${e??"collection"}`),y=w,l=!1,u=!1;break;case"comma":if(e){b&&s(w,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),b=w,l=!1,u=!1;break}default:s(w,"UNEXPECTED_TOKEN",`Unexpected ${w.type} token`),l=!1,u=!1}let E=t[t.length-1],N=E?E.offset+E.source.length:i;return p&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&s(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:b,found:y,spaceBefore:a,comment:c,hasNewline:d,hasNewlineAfterProp:h,anchor:g,tag:m,end:N,start:S??N}}var En=x(()=>{});function xt(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(let e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of t.items){for(let r of e.start)if(r.type==="newline")return!0;if(e.sep){for(let r of e.sep)if(r.type==="newline")return!0}if(xt(e.key)||xt(e.value))return!0}return!1;default:return!0}}var cs=x(()=>{});function xn(t,e,r){if(e?.type==="flow-collection"){let n=e.end[0];n.indent===t&&(n.source==="]"||n.source==="}")&&xt(e)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}var Ma=x(()=>{cs()});function ds(t,e,r){let{uniqueKeys:n}=t.options;if(n===!1)return!1;let i=typeof n=="function"?n:(s,o)=>s===o||T(s)&&T(o)&&s.value===o.value&&!(s.value==="<<"&&t.schema.merge);return e.some(s=>i(s.key,r))}var Ca=x(()=>{B()});function eh({composeNode:t,composeEmptyNode:e},r,n,i,s){let o=s?.nodeClass??U,a=new o(r.schema);r.atRoot&&(r.atRoot=!1);let l=n.offset,u=null;for(let c of n.items){let{start:f,key:d,sep:h,value:p}=c,g=Ke(f,{indicator:"explicit-key-ind",next:d??h?.[0],offset:l,onError:i,startOnNewline:!0}),m=!g.found;if(m){if(d&&(d.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==n.indent&&i(l,"BAD_INDENT",Zd)),!g.anchor&&!g.tag&&!h){u=g.end,g.comment&&(a.comment?a.comment+=`
`+g.comment:a.comment=g.comment);continue}(g.hasNewlineAfterProp||xt(d))&&i(d??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else g.found?.indent!==n.indent&&i(l,"BAD_INDENT",Zd);let b=g.end,y=d?t(r,d,g,i):e(r,b,f,null,g,i);r.schema.compat&&xn(n.indent,d,i),ds(r,a.items,y)&&i(b,"DUPLICATE_KEY","Map keys must be unique");let S=Ke(h??[],{indicator:"map-value-ind",next:p,offset:y.range[2],onError:i,startOnNewline:!d||d.type==="block-scalar"});if(l=S.end,S.found){m&&(p?.type==="block-map"&&!S.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&g.start<S.found.offset-1024&&i(y.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let E=p?t(r,p,S,i):e(r,l,h,null,S,i);r.schema.compat&&xn(n.indent,p,i),l=E.range[2];let N=new $(y,E);r.options.keepSourceTokens&&(N.srcToken=c),a.items.push(N)}else{m&&i(y.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),S.comment&&(y.comment?y.comment+=`
`+S.comment:y.comment=S.comment);let E=new $(y);r.options.keepSourceTokens&&(E.srcToken=c),a.items.push(E)}}return u&&u<l&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,l,u??l],a}var Zd,th=x(()=>{yt();wt();En();cs();Ma();Ca();Zd="All mapping items must start at the same column"});function rh({composeNode:t,composeEmptyNode:e},r,n,i,s){let o=s?.nodeClass??te,a=new o(r.schema);r.atRoot&&(r.atRoot=!1);let l=n.offset,u=null;for(let{start:c,value:f}of n.items){let d=Ke(c,{indicator:"seq-item-ind",next:f,offset:l,onError:i,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||f)f&&f.type==="block-seq"?i(d.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{u=d.end,d.comment&&(a.comment=d.comment);continue}let h=f?t(r,f,d,i):e(r,d.end,c,null,d,i);r.schema.compat&&xn(n.indent,f,i),l=h.range[2],a.items.push(h)}return a.range=[n.offset,l,u??l],a}var nh=x(()=>{St();En();Ma()});function Qe(t,e,r,n){let i="";if(t){let s=!1,o="";for(let a of t){let{source:l,type:u}=a;switch(u){case"space":s=!0;break;case"comment":{r&&!s&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let c=l.substring(1)||" ";i?i+=o+c:i=c,o="";break}case"newline":i&&(o+=l),s=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=l.length}}return{comment:i,offset:e}}var Lr=x(()=>{});function ih({composeNode:t,composeEmptyNode:e},r,n,i,s){let o=n.start.source==="{",a=o?"flow map":"flow sequence",l=s?.nodeClass??(o?U:te),u=new l(r.schema);u.flow=!0;let c=r.atRoot;c&&(r.atRoot=!1);let f=n.offset+n.start.source.length;for(let m=0;m<n.items.length;++m){let b=n.items[m],{start:y,key:S,sep:E,value:N}=b,w=Ke(y,{flow:a,indicator:"explicit-key-ind",next:S??E?.[0],offset:f,onError:i,startOnNewline:!1});if(!w.found){if(!w.anchor&&!w.tag&&!E&&!N){m===0&&w.comma?i(w.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<n.items.length-1&&i(w.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),w.comment&&(u.comment?u.comment+=`
`+w.comment:u.comment=w.comment),f=w.end;continue}!o&&r.options.strict&&xt(S)&&i(S,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(m===0)w.comma&&i(w.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(w.comma||i(w.start,"MISSING_CHAR",`Missing , between ${a} items`),w.comment){let R="";e:for(let M of y)switch(M.type){case"comma":case"space":break;case"comment":R=M.source.substring(1);break e;default:break e}if(R){let M=u.items[u.items.length-1];L(M)&&(M=M.value??M.key),M.comment?M.comment+=`
`+R:M.comment=R,w.comment=w.comment.substring(R.length+1)}}if(!o&&!E&&!w.found){let R=N?t(r,N,w,i):e(r,w.end,E,null,w,i);u.items.push(R),f=R.range[2],Da(N)&&i(R.range,"BLOCK_IN_FLOW",Ba)}else{let R=w.end,M=S?t(r,S,w,i):e(r,R,y,null,w,i);Da(S)&&i(M.range,"BLOCK_IN_FLOW",Ba);let Q=Ke(E??[],{flow:a,indicator:"map-value-ind",next:N,offset:M.range[2],onError:i,startOnNewline:!1});if(Q.found){if(!o&&!w.found&&r.options.strict){if(E)for(let Z of E){if(Z===Q.found)break;if(Z.type==="newline"){i(Z,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}w.start<Q.found.offset-1024&&i(Q.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else N&&("source"in N&&N.source&&N.source[0]===":"?i(N,"MISSING_CHAR",`Missing space after : in ${a}`):i(Q.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let Ve=N?t(r,N,Q,i):Q.found?e(r,Q.end,E,null,Q,i):null;Ve?Da(N)&&i(Ve.range,"BLOCK_IN_FLOW",Ba):Q.comment&&(M.comment?M.comment+=`
`+Q.comment:M.comment=Q.comment);let ce=new $(M,Ve);if(r.options.keepSourceTokens&&(ce.srcToken=b),o){let Z=u;ds(r,Z.items,M)&&i(R,"DUPLICATE_KEY","Map keys must be unique"),Z.items.push(ce)}else{let Z=new U(r.schema);Z.flow=!0,Z.items.push(ce),u.items.push(Z)}f=Ve?Ve.range[2]:Q.end}}let d=o?"}":"]",[h,...p]=n.end,g=f;if(h&&h.source===d)g=h.offset+h.source.length;else{let m=a[0].toUpperCase()+a.substring(1),b=c?`${m} must end with a ${d}`:`${m} in block collection must be sufficiently indented and end with a ${d}`;i(f,c?"MISSING_CHAR":"BAD_INDENT",b),h&&h.source.length!==1&&p.unshift(h)}if(p.length>0){let m=Qe(p,g,r.options.strict,i);m.comment&&(u.comment?u.comment+=`
`+m.comment:u.comment=m.comment),u.range=[n.offset,g,m.offset]}else u.range=[n.offset,g,g];return u}var Ba,Da,sh=x(()=>{B();yt();wt();St();Lr();En();cs();Ca();Ba="Block collections are not allowed within flow collections",Da=t=>t&&(t.type==="block-map"||t.type==="block-seq")});function qa(t,e,r,n,i,s){let o=r.type==="block-map"?eh(t,e,r,n,s):r.type==="block-seq"?rh(t,e,r,n,s):ih(t,e,r,n,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function oh(t,e,r,n,i){let s=n?e.directives.tagName(n.source,f=>i(n,"TAG_RESOLVE_FAILED",f)):null,o=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!n||!s||s==="!"||s===U.tagName&&o==="map"||s===te.tagName&&o==="seq"||!o)return qa(t,e,r,i,s);let a=e.schema.tags.find(f=>f.tag===s&&f.collection===o);if(!a){let f=e.schema.knownTags[s];if(f&&f.collection===o)e.schema.tags.push(Object.assign({},f,{default:!1})),a=f;else return f?.collection?i(n,"BAD_COLLECTION_TYPE",`${f.tag} used for ${o} collection, but expects ${f.collection}`,!0):i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),qa(t,e,r,i,s)}let l=qa(t,e,r,i,s,a),u=a.resolve?.(l,f=>i(n,"TAG_RESOLVE_FAILED",f),e.options)??l,c=k(u)?u:new I(u);return c.range=l.range,c.tag=s,a?.format&&(c.format=a.format),c}var ah=x(()=>{B();z();wt();St();th();nh();sh()});function hs(t,e,r){let n=t.offset,i=G0(t,e,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};let s=i.mode===">"?I.BLOCK_FOLDED:I.BLOCK_LITERAL,o=t.source?K0(t.source):[],a=o.length;for(let g=o.length-1;g>=0;--g){let m=o[g][1];if(m===""||m==="\r")a=g;else break}if(a===0){let g=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",m=n+i.length;return t.source&&(m+=t.source.length),{value:g,type:s,comment:i.comment,range:[n,m,m]}}let l=t.indent+i.indent,u=t.offset+i.length,c=0;for(let g=0;g<a;++g){let[m,b]=o[g];if(b===""||b==="\r")i.indent===0&&m.length>l&&(l=m.length);else{if(m.length<l){let y="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";r(u+m.length,"MISSING_CHAR",y)}i.indent===0&&(l=m.length),c=g;break}u+=m.length+b.length+1}for(let g=o.length-1;g>=a;--g)o[g][0].length>l&&(a=g+1);let f="",d="",h=!1;for(let g=0;g<c;++g)f+=o[g][0].slice(l)+`
`;for(let g=c;g<a;++g){let[m,b]=o[g];u+=m.length+b.length+1;let y=b[b.length-1]==="\r";if(y&&(b=b.slice(0,-1)),b&&m.length<l){let E=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;r(u-b.length-(y?2:1),"BAD_INDENT",E),m=""}s===I.BLOCK_LITERAL?(f+=d+m.slice(l)+b,d=`
`):m.length>l||b[0]==="	"?(d===" "?d=`
`:!h&&d===`
`&&(d=`

`),f+=d+m.slice(l)+b,d=`
`,h=!0):b===""?d===`
`?f+=`
`:d=`
`:(f+=d+b,d=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let g=a;g<o.length;++g)f+=`
`+o[g][0].slice(l);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}let p=n+i.length+t.source.length;return{value:f,type:s,comment:i.comment,range:[n,p,p]}}function G0({offset:t,props:e},r,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=e[0],s=i[0],o=0,a="",l=-1;for(let d=1;d<i.length;++d){let h=i[d];if(!a&&(h==="-"||h==="+"))a=h;else{let p=Number(h);!o&&p?o=p:l===-1&&(l=t+d)}}l!==-1&&n(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,c="",f=i.length;for(let d=1;d<e.length;++d){let h=e[d];switch(h.type){case"space":u=!0;case"newline":f+=h.source.length;break;case"comment":r&&!u&&n(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=h.source.length,c=h.source.substring(1);break;case"error":n(h,"UNEXPECTED_TOKEN",h.message),f+=h.source.length;break;default:{let p=`Unexpected token in block scalar header: ${h.type}`;n(h,"UNEXPECTED_TOKEN",p);let g=h.source;g&&typeof g=="string"&&(f+=g.length)}}}return{mode:s,indent:o,chomp:a,comment:c,length:f}}function K0(t){let e=t.split(/\n( *)/),r=e[0],n=r.match(/^( *)/),s=[n?.[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}var $a=x(()=>{z()});function ps(t,e,r){let{offset:n,type:i,source:s,end:o}=t,a,l,u=(d,h,p)=>r(n+d,h,p);switch(i){case"scalar":a=I.PLAIN,l=Q0(s,u);break;case"single-quoted-scalar":a=I.QUOTE_SINGLE,l=V0(s,u);break;case"double-quoted-scalar":a=I.QUOTE_DOUBLE,l=Y0(s,u);break;default:return r(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+s.length,n+s.length]}}let c=n+s.length,f=Qe(o,c,e,r);return{value:l,type:a,comment:f.comment,range:[n,c,f.offset]}}function Q0(t,e){let r="";switch(t[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${t[0]}`;break}case"@":case"`":{r=`reserved character ${t[0]}`;break}}return r&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),lh(t)}function V0(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),lh(t.slice(1,-1)).replace(/''/g,"'")}function lh(t){let e,r;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=e.exec(t);if(!n)return t;let i=n[1],s=" ",o=e.lastIndex;for(r.lastIndex=o;n=r.exec(t);)n[1]===""?s===`
`?i+=s:s=`
`:(i+=s+n[1],s=" "),o=r.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,n=a.exec(t),i+s+(n?.[1]??"")}function Y0(t,e){let r="";for(let n=1;n<t.length-1;++n){let i=t[n];if(!(i==="\r"&&t[n+1]===`
`))if(i===`
`){let{fold:s,offset:o}=z0(t,n);r+=s,n=o}else if(i==="\\"){let s=t[++n],o=J0[s];if(o)r+=o;else if(s===`
`)for(s=t[n+1];s===" "||s==="	";)s=t[++n+1];else if(s==="\r"&&t[n+1]===`
`)for(s=t[++n+1];s===" "||s==="	";)s=t[++n+1];else if(s==="x"||s==="u"||s==="U"){let a={x:2,u:4,U:8}[s];r+=X0(t,n+1,a,e),n+=a}else{let a=t.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),r+=a}}else if(i===" "||i==="	"){let s=n,o=t[n+1];for(;o===" "||o==="	";)o=t[++n+1];o!==`
`&&!(o==="\r"&&t[n+2]===`
`)&&(r+=n>s?t.slice(s,n+1):i)}else r+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),r}function z0(t,e){let r="",n=t[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&t[e+2]!==`
`);)n===`
`&&(r+=`
`),e+=1,n=t[e+1];return r||(r=" "),{fold:r,offset:e}}function X0(t,e,r,n){let i=t.substr(e,r),o=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){let a=t.substr(e-2,r+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}var J0,Fa=x(()=>{z();Lr();J0={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"}});function ja(t,e,r,n){let{value:i,type:s,comment:o,range:a}=e.type==="block-scalar"?hs(e,t.options.strict,n):ps(e,t.options.strict,n),l=r?t.directives.tagName(r.source,f=>n(r,"TAG_RESOLVE_FAILED",f)):null,u=r&&l?Z0(t.schema,i,l,r,n):e.type==="scalar"?ew(t,i,e,n):t.schema[be],c;try{let f=u.resolve(i,d=>n(r??e,"TAG_RESOLVE_FAILED",d),t.options);c=T(f)?f:new I(f)}catch(f){let d=f instanceof Error?f.message:String(f);n(r??e,"TAG_RESOLVE_FAILED",d),c=new I(i)}return c.range=a,c.source=i,s&&(c.type=s),l&&(c.tag=l),u.format&&(c.format=u.format),o&&(c.comment=o),c}function Z0(t,e,r,n,i){if(r==="!")return t[be];let s=[];for(let a of t.tags)if(!a.collection&&a.tag===r)if(a.default&&a.test)s.push(a);else return a;for(let a of s)if(a.test?.test(e))return a;let o=t.knownTags[r];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),t[be])}function ew({directives:t,schema:e},r,n,i){let s=e.tags.find(o=>o.default&&o.test?.test(r))||e[be];if(e.compat){let o=e.compat.find(a=>a.default&&a.test?.test(r))??e[be];if(s.tag!==o.tag){let a=t.tagString(s.tag),l=t.tagString(o.tag),u=`Value may be parsed as either ${a} or ${l}`;i(n,"TAG_RESOLVE_FAILED",u,!0)}}return s}var uh=x(()=>{B();z();$a();Fa()});function fh(t,e,r){if(e){r===null&&(r=e.length);for(let n=r-1;n>=0;--n){let i=e[n];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++n];i?.type==="space";)t+=i.source.length,i=e[++n];break}}return t}var ch=x(()=>{});function Ua(t,e,r,n){let{spaceBefore:i,comment:s,anchor:o,tag:a}=r,l,u=!0;switch(e.type){case"alias":l=rw(t,e,n),(o||a)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=ja(t,e,a,n),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=oh(tw,t,e,a,n),o&&(l.anchor=o.source.substring(1));break;default:{let c=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;n(e,"UNEXPECTED_TOKEN",c),l=gs(t,e.offset,void 0,null,r,n),u=!1}}return o&&l.anchor===""&&n(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(l.spaceBefore=!0),s&&(e.type==="scalar"&&e.source===""?l.comment=s:l.commentBefore=s),t.options.keepSourceTokens&&u&&(l.srcToken=e),l}function gs(t,e,r,n,{spaceBefore:i,comment:s,anchor:o,tag:a,end:l},u){let c={type:"scalar",offset:fh(e,r,n),indent:-1,source:""},f=ja(t,c,a,u);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(f.spaceBefore=!0),s&&(f.comment=s,f.range[2]=l),f}function rw({options:t},{offset:e,source:r,end:n},i){let s=new ve(r.substring(1));s.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(e+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+r.length,a=Qe(n,o,t.strict,i);return s.range=[e,o,a.offset],a.comment&&(s.comment=a.comment),s}var tw,dh=x(()=>{tn();ah();uh();Lr();ch();tw={composeNode:Ua,composeEmptyNode:gs}});function hh(t,e,{offset:r,start:n,value:i,end:s},o){let a=Object.assign({_directives:e},t),l=new ke(void 0,a),u={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},c=Ke(n,{indicator:"doc-start",next:i??s?.[0],offset:r,onError:o,startOnNewline:!0});c.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!c.hasNewline&&o(c.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?Ua(u,i,c,o):gs(u,c.end,n,null,c,o);let f=l.contents.range[2],d=Qe(s,f,!1,o);return d.comment&&(l.comment=d.comment),l.range=[r,f,d.offset],l}var ph=x(()=>{bn();dh();Lr();En()});function In(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];let{offset:e,source:r}=t;return[e,e+(typeof r=="string"?r.length:1)]}function gh(t){let e="",r=!1,n=!1;for(let i=0;i<t.length;++i){let s=t[i];switch(s[0]){case"#":e+=(e===""?"":n?`

`:`
`)+(s.substring(1)||" "),r=!0,n=!1;break;case"%":t[i+1]?.[0]!=="#"&&(i+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:e,afterEmptyLine:n}}var It,Ha=x(()=>{aa();bn();Sn();B();ph();Lr();It=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,s)=>{let o=In(r);s?this.warnings.push(new Wt(o,n,i)):this.errors.push(new fe(o,n,i))},this.directives=new Ge({version:e.version||"1.2"}),this.options=e}decorate(e,r){let{comment:n,afterEmptyLine:i}=gh(this.prelude);if(n){let s=e.contents;if(r)e.comment=e.comment?`${e.comment}
${n}`:n;else if(i||e.directives.docStart||!s)e.commentBefore=n;else if(P(s)&&!s.flow&&s.items.length>0){let o=s.items[0];L(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${n}
${a}`:n}else{let o=s.commentBefore;s.commentBefore=o?`${n}
${o}`:n}}r?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:gh(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,r=!1,n=-1){for(let i of e)yield*this.next(i);yield*this.end(r,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(r,n,i)=>{let s=In(e);s[0]+=r,this.onError(s,"BAD_DIRECTIVE",n,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let r=hh(this.options,this.directives,e,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let r=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new fe(In(e),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new fe(In(e),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;let r=Qe(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){let n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new fe(In(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let n=Object.assign({_directives:this.directives},this.options),i=new ke(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}}});function mh(t,e=!0,r){if(t){let n=(i,s,o)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,s,o);else throw new fe([a,a+1],s,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return ps(t,e,n);case"block-scalar":return hs(t,e,n)}}return null}function _h(t,e){let{implicitKey:r=!1,indent:n,inFlow:i=!1,offset:s=-1,type:o="PLAIN"}=e,a=st({type:o,value:t},{implicitKey:r,indent:n>0?" ".repeat(n):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:n,source:`
`}];switch(a[0]){case"|":case">":{let u=a.indexOf(`
`),c=a.substring(0,u),f=a.substring(u+1)+`
`,d=[{type:"block-scalar-header",offset:s,indent:n,source:c}];return bh(d,l)||d.push({type:"newline",offset:-1,indent:n,source:`
`}),{type:"block-scalar",offset:s,indent:n,props:d,source:f}}case'"':return{type:"double-quoted-scalar",offset:s,indent:n,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:n,source:a,end:l};default:return{type:"scalar",offset:s,indent:n,source:a,end:l}}}function yh(t,e,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:s=!1,type:o}=r,a="indent"in t?t.indent:null;if(n&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let u=t.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let l=st({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":nw(t,l);break;case'"':Wa(t,l,"double-quoted-scalar");break;case"'":Wa(t,l,"single-quoted-scalar");break;default:Wa(t,l,"scalar")}}function nw(t,e){let r=e.indexOf(`
`),n=e.substring(0,r),i=e.substring(r+1)+`
`;if(t.type==="block-scalar"){let s=t.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=n,t.source=i}else{let{offset:s}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:n}];bh(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let l of Object.keys(t))l!=="type"&&l!=="offset"&&delete t[l];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:i})}}function bh(t,e){if(e)for(let r of e)switch(r.type){case"space":case"comment":t.push(r);break;case"newline":return t.push(r),!0}return!1}function Wa(t,e,r){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=r,t.source=e;break;case"block-scalar":{let n=t.props.slice(1),i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(let s of n)s.offset+=i;delete t.props,Object.assign(t,{type:r,source:e,end:n});break}case"block-map":case"block-seq":{let i={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:r,source:e,end:[i]});break}default:{let n="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(let s of Object.keys(t))s!=="type"&&s!=="offset"&&delete t[s];Object.assign(t,{type:r,indent:n,source:e,end:i})}}}var wh=x(()=>{$a();Fa();Sn();fn()});function _s(t){switch(t.type){case"block-scalar":{let e="";for(let r of t.props)e+=_s(r);return e+t.source}case"block-map":case"block-seq":{let e="";for(let r of t.items)e+=ms(r);return e}case"flow-collection":{let e=t.start.source;for(let r of t.items)e+=ms(r);for(let r of t.end)e+=r.source;return e}case"document":{let e=ms(t);if(t.end)for(let r of t.end)e+=r.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(let r of t.end)e+=r.source;return e}}}function ms({start:t,key:e,sep:r,value:n}){let i="";for(let s of t)i+=s.source;if(e&&(i+=_s(e)),r)for(let s of r)i+=s.source;return n&&(i+=_s(n)),i}var Sh,Eh=x(()=>{Sh=t=>"type"in t?_s(t):ms(t)});function At(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),Ih(Object.freeze([]),t,e)}function Ih(t,e,r){let n=r(e,t);if(typeof n=="symbol")return n;for(let i of["key","value"]){let s=e[i];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){let a=Ih(Object.freeze(t.concat([[i,o]])),s.items[o],r);if(typeof a=="number")o=a-1;else{if(a===Ga)return Ga;a===xh&&(s.items.splice(o,1),o-=1)}}typeof n=="function"&&i==="key"&&(n=n(e,t))}}return typeof n=="function"?n(e,t):n}var Ga,iw,xh,Ah=x(()=>{Ga=Symbol("break visit"),iw=Symbol("skip children"),xh=Symbol("remove item");At.BREAK=Ga;At.SKIP=iw;At.REMOVE=xh;At.itemAtPath=(t,e)=>{let r=t;for(let[n,i]of e){let s=r?.[n];if(s&&"items"in s)r=s.items[i];else return}return r};At.parentCollection=(t,e)=>{let r=At.itemAtPath(t,e.slice(0,-1)),n=e[e.length-1][0],i=r?.[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")}});var ys={};Ns(ys,{BOM:()=>An,DOCUMENT:()=>Nn,FLOW_END:()=>Tn,SCALAR:()=>Or,createScalarToken:()=>_h,isCollection:()=>sw,isScalar:()=>ow,prettyToken:()=>aw,resolveAsScalar:()=>mh,setScalarValue:()=>yh,stringify:()=>Sh,tokenType:()=>Ka,visit:()=>At});function aw(t){switch(t){case An:return"<BOM>";case Nn:return"<DOC>";case Tn:return"<FLOW_END>";case Or:return"<SCALAR>";default:return JSON.stringify(t)}}function Ka(t){switch(t){case An:return"byte-order-mark";case Nn:return"doc-mode";case Tn:return"flow-error-end";case Or:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}var An,Nn,Tn,Or,sw,ow,bs=x(()=>{wh();Eh();Ah();An="\uFEFF",Nn="",Tn="",Or="",sw=t=>!!t&&"items"in t,ow=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar")});function Se(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var Nh,lw,Qa,uw,Va,Gt,Ya=x(()=>{bs();Nh="0123456789ABCDEFabcdef".split(""),lw="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),Qa=",[]{}".split(""),uw=` ,[]{}
\r	`.split(""),Va=t=>!t||uw.includes(t),Gt=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,r=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!r;let n=this.next??"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,r=this.buffer[e];for(;r===" "||r==="	";)r=this.buffer[++e];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let r=this.buffer[e];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+e];if(r==="\r"){let i=this.buffer[n+e+1];if(i===`
`||!i&&!this.atEnd)return e+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?e+n:-1}if(r==="-"||r==="."){let n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&Se(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===An&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let r=e.length,n=e.indexOf("#");if(n!==-1){let s=e[n-1];(s===" "||s==="	")&&(r=n-1)}for(;;){let s=e[r-1];if(s===" "||s==="	")r-=1;else break}let i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let r=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-r),yield*this.pushNewline(),"stream"}return yield Nn,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let r=this.peek(3);if(r==="---"&&Se(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(r==="..."&&Se(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Se(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Se(r)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(e[r]){case"#":yield*this.pushCount(e.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Va),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,r,n=-1;do e=yield*this.pushNewline(),e>0?(r=yield*this.pushSpaces(!1),this.indentValue=n=r):r=0,r+=yield*this.pushSpaces(!0);while(e+r>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&Se(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Tn,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Va),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||Se(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),r=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let s=0;for(;this.buffer[r-1-s]==="\\";)s+=1;if(s%2===0)break;r=this.buffer.indexOf('"',r+1)}let n=this.buffer.substring(0,r),i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let s=this.continueScalar(i+1);if(s===-1)break;i=n.indexOf(`
`,s)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let r=this.buffer[++e];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>Se(r)||r==="#")}*parseBlockScalar(){let e=this.pos-1,r=0,n;e:for(let i=this.pos;n=this.buffer[i];++i)switch(n){case" ":r+=1;break;case`
`:e=i,r=0;break;case"\r":{let s=this.buffer[i+1];if(!s&&!this.atEnd)return this.setNext("block-scalar");if(s===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext+=this.blockScalarIndent;do{let i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let i=e-1,s=this.buffer[i];s==="\r"&&(s=this.buffer[--i]);let o=i;for(;s===" "||s==="	";)s=this.buffer[--i];if(s===`
`&&i>=this.pos&&i+1+r>o)e=i;else break}while(!0);return yield Or,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){let s=this.buffer[n+1];if(Se(s)||e&&s===",")break;r=n}else if(Se(i)){let s=this.buffer[n+1];if(i==="\r"&&(s===`
`?(n+=1,i=`
`,s=this.buffer[n+1]):r=n),s==="#"||e&&Qa.includes(s))break;if(i===`
`){let o=this.continueScalar(n+1);if(o===-1)break;n=Math.max(n,o-2)}}else{if(e&&Qa.includes(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield Or,yield*this.pushToIndex(r+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,r){let n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Va))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,r=this.charAt(1);if(Se(r)||e&&Qa.includes(r))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,r=this.buffer[e];for(;!Se(r)&&r!==">";)r=this.buffer[++e];return yield*this.pushToIndex(r===">"?e+1:e,!1)}else{let e=this.pos+1,r=this.buffer[e];for(;r;)if(lw.includes(r))r=this.buffer[++e];else if(r==="%"&&Nh.includes(this.buffer[e+1])&&Nh.includes(this.buffer[e+2]))r=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||e&&n==="	");let i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(e){let r=this.pos,n=this.buffer[r];for(;!e(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}}});var Kt,za=x(()=>{Kt=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let r=0,n=this.lineStarts.length;for(;r<n;){let s=r+n>>1;this.lineStarts[s]<e?r=s+1:n=s}if(this.lineStarts[r]===e)return{line:r+1,col:1};if(r===0)return{line:0,col:e};let i=this.lineStarts[r-1];return{line:r,col:e-i+1}}}}});function Pe(t,e){for(let r=0;r<t.length;++r)if(t[r].type===e)return!0;return!1}function Th(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Lh(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function ws(t){switch(t.type){case"document":return t.start;case"block-map":{let e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Rr(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function vh(t){if(t.start.type==="flow-seq-start")for(let e of t.items)e.sep&&!e.value&&!Pe(e.start,"explicit-key-ind")&&!Pe(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Lh(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var Nt,Ja=x(()=>{bs();Ya();Nt=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Gt,this.onNewLine=e}*parse(e,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(e,r))yield*this.next(n);r||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let r=Ka(e);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let n=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let r=e??this.stack.pop();if(r)if(this.stack.length===0)yield r;else{let n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&vh(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{let i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!Pe(i.start,"explicit-key-ind");return}break}case"block-seq":{let i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{let i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){let i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&Th(i.start)===-1&&(r.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}else{let n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Th(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let r=this.startBlockValue(e);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let r=ws(this.peek(2)),n=Rr(r),i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];let s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let r=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){let n="end"in r.value?r.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)e.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,r.start),i.push(this.sourceToken),e.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let n=!this.onKeyLine&&this.indent===e.indent&&r.sep,i=[];if(n&&r.sep&&!r.value){let s=[];for(let o=0;o<r.sep.length;++o){let a=r.sep[o];switch(a.type){case"newline":s.push(o);break;case"space":break;case"comment":a.indent>e.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(i=r.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":n||r.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!Pe(r.start,"explicit-key-ind")?r.start.push(this.sourceToken):n||r.value?(i.push(this.sourceToken),e.items.push({start:i})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(Pe(r.start,"explicit-key-ind"))if(r.sep)if(r.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Pe(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(Lh(r.key)&&!Pe(r.sep,"newline")){let s=Rr(r.start),o=r.key,a=r.sep;a.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:o,sep:a}]})}else i.length>0?r.sep=r.sep.concat(i,this.sourceToken):r.sep.push(this.sourceToken);else if(Pe(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{let s=Rr(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||n?e.items.push({start:i,key:null,sep:[this.sourceToken]}):Pe(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let s=this.flowScalar(this.type);n||r.value?(e.items.push({start:i,key:s,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(s):(Object.assign(r,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{let s=this.startBlockValue(e);if(s){n&&s.type!=="block-seq"&&Pe(r.start,"explicit-key-ind")&&e.items.push({start:i}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let r=e.items[e.items.length-1];switch(this.type){case"newline":if(r.value){let n="end"in r.value?r.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,r.start),i.push(this.sourceToken),e.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=e.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;r.value||Pe(r.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>e.indent){let n=this.startBlockValue(e);if(n){this.stack.push(n);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let r=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?e.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?e.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!r||r.value?e.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===e.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let i=ws(n),s=Rr(i);vh(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let r=ws(e),n=Rr(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;let r=ws(e),n=Rr(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,r){return this.type!=="comment"||this.indent<=r?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}});function Oh(t){let e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new Kt||null,prettyErrors:e}}function Xa(t,e={}){let{lineCounter:r,prettyErrors:n}=Oh(e),i=new Nt(r?.addNewLine),s=new It(e),o=Array.from(s.compose(i.parse(t)));if(n&&r)for(let a of o)a.errors.forEach(wn(t,r)),a.warnings.forEach(wn(t,r));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function Ss(t,e={}){let{lineCounter:r,prettyErrors:n}=Oh(e),i=new Nt(r?.addNewLine),s=new It(e),o=null;for(let a of s.compose(i.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new fe(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(o.errors.forEach(wn(t,r)),o.warnings.forEach(wn(t,r))),o}function Za(t,e,r){let n;typeof e=="function"?n=e:r===void 0&&e&&typeof e=="object"&&(r=e);let i=Ss(t,r);if(!i)return null;if(i.warnings.forEach(s=>Ki(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function el(t,e,r){let n=null;if(typeof e=="function"||Array.isArray(e)?n=e:r===void 0&&e&&(r=e),typeof r=="string"&&(r=r.length),typeof r=="number"){let i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){let{keepUndefined:i}=r??e??{};if(!i)return}return new ke(t,n,r).toString(r)}var Rh=x(()=>{Ha();bn();Sn();pa();za();Ja()});var tl={};Ns(tl,{Alias:()=>ve,CST:()=>ys,Composer:()=>It,Document:()=>ke,Lexer:()=>Gt,LineCounter:()=>Kt,Pair:()=>$,Parser:()=>Nt,Scalar:()=>I,Schema:()=>Ut,YAMLError:()=>Ht,YAMLMap:()=>U,YAMLParseError:()=>fe,YAMLSeq:()=>te,YAMLWarning:()=>Wt,isAlias:()=>he,isCollection:()=>P,isDocument:()=>Te,isMap:()=>pe,isNode:()=>k,isPair:()=>L,isScalar:()=>T,isSeq:()=>ge,parse:()=>Za,parseAllDocuments:()=>Xa,parseDocument:()=>Ss,stringify:()=>el,visit:()=>me,visitAsync:()=>yr});var rl=x(()=>{Ha();bn();Pa();Sn();tn();B();yt();z();wt();St();bs();Ya();za();Ja();Rh();en()});var kh={};Ns(kh,{Alias:()=>ve,CST:()=>ys,Composer:()=>It,Document:()=>ke,Lexer:()=>Gt,LineCounter:()=>Kt,Pair:()=>$,Parser:()=>Nt,Scalar:()=>I,Schema:()=>Ut,YAMLError:()=>Ht,YAMLMap:()=>U,YAMLParseError:()=>fe,YAMLSeq:()=>te,YAMLWarning:()=>Wt,default:()=>fw,isAlias:()=>he,isCollection:()=>P,isDocument:()=>Te,isMap:()=>pe,isNode:()=>k,isPair:()=>L,isScalar:()=>T,isSeq:()=>ge,parse:()=>Za,parseAllDocuments:()=>Xa,parseDocument:()=>Ss,stringify:()=>el,visit:()=>me,visitAsync:()=>yr});var fw,Ph=x(()=>{rl();rl();fw=tl});var xs=A(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.htbnToLogItem=Ee.ndhrToLogItem=Ee.bntqToLogItem=Ee.LoggerFactory=Ee.LogLevels=void 0;var cw=(Ph(),Vh(kh)),dw=pt(),Qt;(function(t){t[t.error=0]="error",t[t.warn=1]="warn",t[t.info=2]="info",t[t.debug=3]="debug"})(Qt||(Ee.LogLevels=Qt={}));var Es=class{_level;constructor(){}debug(e,r,...n){}warn(e,r,...n){}error(e,r,...n){}info(e,r,...n){}push(e,r,...n){}pop(){}get log(){return""}set level(e){this._level=e}get level(){return this._level}},nl=class extends Es{top_log={};current_log;log_stack=[];constructor(){super();let e=[];this.top_log.ca=e,this.current_log=e}emitMessage(e,r,n,i){let s={};n!==""&&(s["log point"]=e==="info"?`${n}`:`[${e}] ${n}`),i.length!==0&&(s.with=i);let o={};o[r]=s,this.current_log.push(o)}debug(e,r,...n){this._level>=Qt.debug&&this.emitMessage("debug",e,r,n)}info(e,r,...n){this._level>=Qt.info&&this.emitMessage("info",e,r,n)}warn(e,r,...n){this._level>=Qt.warn&&this.emitMessage("warn",e,r,n)}error(e,r,...n){this._level>=Qt.error&&this.emitMessage("error",e,r,n)}push(e,r,...n){let i=[],s={};s[e]=i,r&&r!==""&&i.push({"push info":r}),n.length!==0&&i.push({with:n}),this.current_log.push(s),this.log_stack.push(this.current_log),this.current_log=i}pop(){this.current_log=this.log_stack.pop()}get log(){return cw.stringify(this.top_log,{aliasDuplicateObjects:!1})}},il=class t{static DEFAULT_LOGGER="DefaultLogger";static#e={YamlLogger:new nl,DefaultLogger:new Es};static createLogger(e=t.DEFAULT_LOGGER,r=Qt.debug){if(e in t.#e){let n=Object.create(t.#e[e]);return n.level=r,n}else{console.error(`>>> Not found logger ${e}`);return}}static loggerTypes(){let e=[];for(let r in t.#e)e.push(r);return e}};Ee.LoggerFactory=il;function hw(t){let e={};for(let r in t)e[r]=t[r].map(dw.quadToNquad);return e}Ee.bntqToLogItem=hw;function pw(t){return t.map(e=>({hash:e.hash,issuer:e.issuer.toLogItem()}))}Ee.ndhrToLogItem=pw;function gw(t){return Object.keys(t).map(e=>({hash:e,bnodes:t[e]}))}Ee.htbnToLogItem=gw});var Bh=A(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.computeCanonicalDataset=void 0;var sl=pt(),mw=ta(),_w=gd(),Mh=ea(),Is=xs(),yw=pt(),Ch=Zr(),bw=t=>{let e=new yw.BnodeSet,r=n=>{n.termType==="BlankNode"&&e.add(n)};for(let n of t)r(n.subject),r(n.object),r(n.graph);return new Map(Array.from(e).map(n=>[n,n.value]))};async function ww(t,e,r=!1){let n=()=>{if(typeof e=="string")return(0,sl.parseNquads)(e);if(r){let a=new Ch.Store;for(let l of e)a.add(l);return a}else return e};t.bnode_to_quads={},t.hash_to_bnodes={},t.canonical_issuer=new Mh.IDIssuer,t.current_n_degree_call=0;let i=await n(),s=new Ch.Store;for(let a of i){let l=u=>{if(u.termType==="BlankNode"){let c=u.value;t.bnode_to_quads[c]===void 0?t.bnode_to_quads[c]=[a]:t.bnode_to_quads[c].push(a)}};l(a.subject),l(a.object),l(a.graph)}t.maximum_n_degree_call=t.complexity_number*Object.keys(t.bnode_to_quads).length,t.logger.info("ca.2","Entering the canonicalization function (4.4.3 (2)).",{"Bnode to quads":(0,Is.bntqToLogItem)(t.bnode_to_quads)});{t.logger.push("ca.3"),t.logger.push("ca.3.1");for(let a of Object.keys(t.bnode_to_quads)){let l=await(0,mw.computeFirstDegreeHash)(t,a);t.hash_to_bnodes[l]===void 0?t.hash_to_bnodes[l]=[a]:t.hash_to_bnodes[l].push(a)}t.logger.pop(),t.logger.info("ca.3.2","Calculated first degree hashes (4.4.3. (3))",{"Hash to bnodes":(0,Is.htbnToLogItem)(t.hash_to_bnodes)}),t.logger.pop()}{let a=Object.keys(t.hash_to_bnodes).sort(),l=[];for(let u of a){let c=t.hash_to_bnodes[u];if(c.length>1)continue;let f=t.canonical_issuer.issueID(c[0]);l.push({identifier:c[0],hash:u,"canonical id":f}),delete t.hash_to_bnodes[u]}t.logger.info("ca.4","Canonicalization function (4.4.3 (4)).",...l)}{t.logger.push("ca.5","Calculate hashes for identifiers with shared hashes (4.4.3. (5))."),t.logger.debug("ca.5.extra","",{"Hash to bnodes":(0,Is.htbnToLogItem)(t.hash_to_bnodes)});let a=Object.keys(t.hash_to_bnodes).sort();a.length>0&&t.logger.push("ca.5.1");for(let l of a){let u=t.hash_to_bnodes[l],c=[];t.logger.push("ca.5.2");for(let d of u)if(!t.canonical_issuer.isSet(d)){let h=new Mh.IDIssuer("b");h.issueID(d);let p=await(0,_w.computeNDegreeHash)(t,d,h);c.push(p)}t.logger.pop();let f=c.sort((d,h)=>d.hash<h.hash?-1:d.hash>h.hash?1:0);t.logger.debug("ca.5.2.extra","Canonicalization function, after (4.4.3 (5.2)), ordered hash past list.",{"computed for":l,"hash path list":(0,Is.ndhrToLogItem)(f)});for(let d of f)for(let[h,p]of d.issuer)t.canonical_issuer.issueID(h)}a.length>0&&t.logger.pop(),t.logger.pop()}{let a=l=>{if(l.termType==="BlankNode"){let u=t.canonical_issuer.issueID(l.value);return t.dataFactory.blankNode(u)}else return l};for(let l of i){let u=a(l.subject),c=a(l.object),f=a(l.graph);s.add(t.dataFactory.quad(u,l.predicate,c,f))}}return t.logger.info("ca.6","Leaving the canonicalization function (4.4.3)",{issuer:t.canonical_issuer.toLogItem()}),{canonical_form:(0,sl.concatNquads)((0,sl.quadsToNquads)(s)),canonicalized_dataset:s,bnode_identifier_map:bw(s),issued_identifier_map:t.canonical_issuer.issued_identifier_map}}As.computeCanonicalDataset=ww});var Dh=A(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.RDFC10=Pr.LogLevels=void 0;var Sw=Zr(),ol=pt(),kr=zo(),Ew=ea(),xw=Bh(),Vt=xs(),Iw=xs();Object.defineProperty(Pr,"LogLevels",{enumerable:!0,get:function(){return Iw.LogLevels}});var al=class{state;constructor(e,r){let n=r??kr.defaultConfigData,{c14n_complexity:i,c14n_hash:s}=n();this.state={bnode_to_quads:{},hash_to_bnodes:{},canonical_issuer:new Ew.IDIssuer,hash_algorithm:s,dataFactory:e??Sw.DataFactory,logger:Vt.LoggerFactory.createLogger(Vt.LoggerFactory.DEFAULT_LOGGER),logger_id:Vt.LoggerFactory.DEFAULT_LOGGER,complexity_number:i,maximum_n_degree_call:0,current_n_degree_call:0}}setLogger(e=Vt.LoggerFactory.DEFAULT_LOGGER,r=Vt.LogLevels.debug){let n=Vt.LoggerFactory.createLogger(e,r);if(n!==void 0)return this.state.logger_id=e,this.state.logger=n,n}get logger_type(){return this.state.logger_id}get available_logger_types(){return Vt.LoggerFactory.loggerTypes()}set hash_algorithm(e){let r=e.toLowerCase();if(Object.keys(kr.AVAILABLE_HASH_ALGORITHMS).includes(r))this.state.hash_algorithm=r;else{let n=`"${e}" is not a valid Hash Algorithm name`;throw TypeError(n)}}get hash_algorithm(){return this.state.hash_algorithm}get available_hash_algorithms(){return Object.keys(kr.AVAILABLE_HASH_ALGORITHMS)}set maximum_complexity_number(e){if(!Number.isNaN(e)&&Number.isInteger(e)&&e>0&&e<kr.DEFAULT_MAXIMUM_COMPLEXITY)this.state.complexity_number=e;else{let r=`Required complexity must be between 0 and ${kr.DEFAULT_MAXIMUM_COMPLEXITY}`;throw RangeError(r)}}get maximum_complexity_number(){return this.state.complexity_number}get maximum_allowed_complexity_number(){return kr.DEFAULT_MAXIMUM_COMPLEXITY}async canonicalize(e,r=!1){return(await this.c14n(e,r)).canonical_form}async c14n(e,r=!1){return(0,xw.computeCanonicalDataset)(this.state,e,r)}toNquads(e,r=!0){return(0,ol.quadsToNquads)(e,r)}async hash(e){return typeof e=="string"?(0,ol.computeHash)(this.state,e):(0,ol.hashDataset)(this.state,e,!0)}};Pr.RDFC10=al});var Uh=ul(Dh());var Mr=ul(Zr());var Aw;(e=>e.BNODE_PREFIX="c14n")(Aw||={});function $h(t){return t.map(e=>e.endsWith(`
`)?e:`${e}
`).join("")}function Nw(t){let e=Tw.quadToString(t.subject,t.predicate,t.object,t.graph);return e.endsWith("  .")?e.replace(/  .$/," ."):e}var Tw=new Mr.Writer;function Fh(t,e=!0){let r=[];for(let n of t)r.push(Nw(n));return e&&r.sort(),r}function jh(t){let r=new Mr.Parser({blankNodePrefix:""}).parse(t);return new Mr.Store(r)}var qh=class{index;constructor(){this.index=new Map}get size(){return this.index.size}add(e){let r=e.value;return this.index.has(r)||this.index.set(r,e),this}values(){return new Set(this.index.values())}keys(){return this.values()}[Symbol.iterator](){return this.index.values()}};function vw(t){let e=Fh(jh(t));return e.sort(),$h(e)}async function Lw(t){let e=(o,a)=>{let l=a;for(let u of o.keys())l=l.replaceAll(u,o.get(u));return l},r=await new Uh.RDFC10().c14n(t),n=vw(t),i=e(r.issued_identifier_map,t),s=r.canonical_form;return{original_quads:n,c14n:i,c14n_quads:s}}async function Ow(){let t=n=>{let i=document.getElementById(n);if(i===null)throw new Error(`Element #${n} does not exist!`);return i},r=t("inp").value;try{let n=await Lw(r),i=t("original_quads"),s=t("c14n"),o=t("c14n_quads");i.value=n.original_quads,s.value=n.c14n,o.value=n.c14n_quads}catch(n){alert(n.message)}}window.addEventListener("load",()=>{let t=document.getElementById("go");if(t===null)throw new Error("Element #go does not exist!");t.addEventListener("click",Ow)});})();
/*! Bundled license information:

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
